/*! PhotoSwipe - v4.1.3 - 2019-01-08
* http://photoswipe.com
* Copyright (c) 2019 Dmitry Semenov; */(function(t,e){typeof define=="function"&&define.amd?define(e):typeof exports=="object"?module.exports=e():t.PhotoSwipe=e()})(this,function(){'use strict';var e=function(c,eK,t9,tp){console.log(c,eK,t9,tp),t={features:null,bind:function(n,e,s,o){var i=(o?"remove":"add")+"EventListener",t;e=e.split(" ");for(t=0;t<e.length;t++)e[t]&&n[i](e[t],s,!1)},isArray:function(e){return e instanceof Array},createEl:function(e,n){var t=document.createElement(n||"div");return e&&(t.className=e),t},getScrollY:function(){var e=window.pageYOffset;return e!==void 0?e:document.documentElement.scrollTop},unbind:function(e,n,s){t.bind(e,n,s,!0)},removeClass:function(e,t){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ").replace(/^\s\s*/,'').replace(/\s\s*$/,'')},addClass:function(e,n){t.hasClass(e,n)||(e.className+=(e.className?" ":'')+n)},hasClass:function(e,t){return e.className&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},getChildByClass:function(n,s){for(var e=n.firstChild;e;){if(t.hasClass(e,s))return e;e=e.nextSibling}},arraySearch:function(t,n,s){for(var e=t.length;e--;)if(t[e][s]===n)return e;return-1},extend:function(n,t,s){for(var e in t)if(t.hasOwnProperty(e)){if(s&&n.hasOwnProperty(e))continue;n[e]=t[e]}},easing:{sine:{out:function(e){return Math.sin(e*(Math.PI/2))},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},cubic:{out:function(e){return--e*e*e+1}}},detectFeatures:function(){if(t.features)return t.features;var p=t.createEl(),f=p.style,n='',e={},u,o,d,i,m,h,s,r,a,c,l;e.oldIE=document.all&&!document.addEventListener,e.touch="ontouchstart"in window,window.requestAnimationFrame&&(e.raf=window.requestAnimationFrame,e.caf=window.cancelAnimationFrame),e.pointerEvent=!!window.PointerEvent||navigator.msPointerEnabled,e.pointerEvent||(u=navigator.userAgent,/iP(hone|od)/.test(navigator.platform)&&(o=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),o&&o.length>0&&(o=parseInt(o[1],10),o>=1&&o<8&&(e.isOldIOSPhone=!0))),d=u.match(/Android\s([0-9.]*)/),i=d?d[1]:0,i=parseFloat(i),i>=1&&(i<4.4&&(e.isOldAndroid=!0),e.androidVersion=i),e.isMobileOpera=/opera mini|opera mobi/i.test(u)),m=["transform","perspective","animationName"],h=['',"webkit","Moz","ms","O"];for(a=0;a<4;a++){n=h[a];for(c=0;c<3;c++)s=m[c],r=n+(n?s.charAt(0).toUpperCase()+s.slice(1):s),!e[s]&&r in f&&(e[s]=r);n&&!e.raf&&(n=n.toLowerCase(),e.raf=window[n+"RequestAnimationFrame"],e.raf&&(e.caf=window[n+"CancelAnimationFrame"]||window[n+"CancelRequestAnimationFrame"]))}return e.raf||(l=0,e.raf=function(n){var e=(new Date).getTime(),t=Math.max(0,16-(e-l)),s=window.setTimeout(function(){n(e+t)},t);return l=e+t,s},e.caf=function(e){clearTimeout(e)}),e.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,t.features=e,e}},t.detectFeatures(),t.features.oldIE&&(t.bind=function(o,n,e,i){n=n.split(" ");for(var a=(i?"detach":"attach")+"Event",t,r=function(){e.handleEvent.call(e)},s=0;s<n.length;s++)if(t=n[s],t)if(typeof e=="object"&&e.handleEvent){if(i){if(!e["oldIE"+t])return!1}else e["oldIE"+t]=r;o[a]("on"+t,e["oldIE"+t])}else o[a]("on"+t,e)}),e=this,t$=25,Y=3,n={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(e){return e.tagName==="A"},getDoubleTapZoom:function(e,t){return e?1:t.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"},t.extend(n,tp),R=function(){return{x:0,y:0}};var e2,tC,eZ,i,tH,D,q=R(),ei=R(),s=R(),eb,eR,p,f={},r,ee,t3,t1,tl,eN,K=0,el={},w=R(),u,tV,k=0,eI,eH,ev,e7,eu,I,eC=!0,L,tu=[],eA,ti,tx,tE,tt,X,l,e5={},Z=!1,te,ep=function(n,s){t.extend(e,s.publicMethods),tu.push(n)},ez=function(e){var t=O();return e>t-1?e-t:e<0?t+e:e},ef={},d=function(e,t){return ef[e]||(ef[e]=[]),ef[e].push(t)},a=function(o){var t=ef[o],s,n;if(t){s=Array.prototype.slice.call(arguments),s.shift();for(n=0;n<t.length;n++)t[n].apply(e,s)}},A=function(){return(new Date).getTime()},N=function(t){eM=t,e.bg.style.opacity=t*n.bgOpacity},tW=function(s,o,i,n,t){(!Z||t&&t!==e.currItem)&&(n=n/(t?t.fitRatio:e.currItem.fitRatio)),s[eu]=t3+o+"px, "+i+"px"+t1+" scale("+n+")"},h=function(t){F&&(t&&(r>e.currItem.fitRatio?Z||(et(e.currItem,!1,!0),Z=!0):Z&&(et(e.currItem),Z=!1)),tW(F,s.x,s.y,r))},e8=function(e){e.container&&tW(e.container.style,e.initialPosition.x,e.initialPosition.y,e.initialZoomLevel,e)},ed=function(e,t){t[eu]=t3+e+"px, 0px"+t1},eL=function(e,o){if(!n.loop&&o){var s=i+(w.x*K-e)/w.x,t=Math.round(e-z.x);(s<0&&t>0||s>=O()-1&&t<0)&&(e=z.x+t*n.mainScrollEndFriction)}z.x=e,ed(e,tH)},eq=function(e,n){var t=eO[e]-el[e];return ei[e]+q[e]+t-t*(n/ee)},g=function(t,e){t.x=e.x,t.y=e.y,e.id&&(t.id=e.id)},tS=function(e){e.x=Math.round(e.x),e.y=Math.round(e.y)},t8=null,eW=function(){t8&&(t.unbind(document,"mousemove",eW),t.addClass(c,"pswp--has_mouse"),n.mouseUsed=!0,a("mouseUsed")),t8=setTimeout(function(){t8=null},100)},nl=function(){t.bind(document,"keydown",e),l.transform&&t.bind(e.scrollWrap,"click",e),n.mouseUsed||t.bind(document,"mousemove",eW),t.bind(window,"resize scroll orientationchange",e),a("bindEvents")},nc=function(){t.unbind(window,"resize scroll orientationchange",e),t.unbind(window,"scroll",p.scroll),t.unbind(document,"keydown",e),t.unbind(document,"mousemove",eW),l.transform&&t.unbind(e.scrollWrap,"click",e),M&&t.unbind(window,eb,e),clearTimeout(te),a("unbindEvents")},eG=function(n,s){var t=e9(e.currItem,f,n);return s&&(o=t),t},t_=function(t){return t||(t=e.currItem),t.initialZoomLevel},tz=function(t){return t||(t=e.currItem),t.w>0?n.maxSpreadZoom:1},tF=function(t,s,n,o){return o===e.currItem.initialZoomLevel?(n[t]=e.currItem.initialPosition[t],!0):(n[t]=eq(t,o),n[t]>s.min[t])?(n[t]=s.min[t],!0):n[t]<s.max[t]&&(n[t]=s.max[t],!0)},nd=function(){if(eu){var n=l.perspective&&!L;t3="translate"+(n?"3d(":"("),t1=l.perspective?", 0px)":")";return}eu="left",t.addClass(c,"pswp--ie"),ed=function(e,t){t.left=e+"px"},e8=function(e){var n=e.fitRatio>1?1:e.fitRatio,t=e.container.style,s=n*e.w,o=n*e.h;t.width=s+"px",t.height=o+"px",t.left=e.initialPosition.x+"px",t.top=e.initialPosition.y+"px"},h=function(){if(F){var t=F,n=e.currItem,o=n.fitRatio>1?1:n.fitRatio,i=o*n.w,a=o*n.h;t.width=i+"px",t.height=a+"px",t.left=s.x+"px",t.top=s.y+"px"}}},nu=function(t){var s='';n.escKey&&t.keyCode===27?s="close":n.arrowKeys&&(t.keyCode===37?s="prev":t.keyCode===39&&(s="next")),s&&!t.ctrlKey&&!t.altKey&&!t.shiftKey&&!t.metaKey&&(t.preventDefault?t.preventDefault():t.returnValue=!1,e[s]())},n1=function(e){if(!e)return;(e3||eo||b||eh)&&(e.preventDefault(),e.stopPropagation())},tN=function(){e.setScrollOffset(0,t.getScrollY())},x={},er=0,ej=function(e){x[e]&&(x[e].raf&&ti(x[e].raf),er--,delete x[e])},td=function(e){x[e]&&ej(e),x[e]||(er++,x[e]={})},e_=function(){for(var e in x)x.hasOwnProperty(e)&&ej(e)},em=function(e,n,a,s,c,o,i){var l=A(),t,r;td(e),r=function(){if(x[e]){if(t=A()-l,t>=s){ej(e),o(a),i&&i();return}o((a-n)*c(t/s)+n),x[e].raf=eA(r)}},r()};n4={shout:a,listen:d,viewportSize:f,options:n,isMainScrollAnimating:function(){return b},getZoomLevel:function(){return r},getCurrentIndex:function(){return i},isDragging:function(){return M},isZooming:function(){return T},setScrollOffset:function(e,t){el.x=e,X=el.y=t,a("updateScrollOffset",el)},applyZoomPan:function(e,t,n,o){s.x=t,s.y=n,r=e,h(o)},init:function(){if(e2||tC)return;e.framework=t,e.template=c,e.bg=t.getChildByClass(c,"pswp__bg"),tx=c.className,e2=!0,l=t.detectFeatures(),eA=l.raf,ti=l.caf,eu=l.transform,tt=l.oldIE,e.scrollWrap=t.getChildByClass(c,"pswp__scroll-wrap"),e.container=t.getChildByClass(e.scrollWrap,"pswp__container"),tH=e.container.style,e.itemHolders=u=[{el:e.container.children[0],wrap:0,index:-1},{el:e.container.children[1],wrap:0,index:-1},{el:e.container.children[2],wrap:0,index:-1}],u[0].el.style.display=u[2].el.style.display="none",nd(),p={resize:e.updateSize,orientationchange:function(){clearTimeout(te),te=setTimeout(function(){f.x!==e.scrollWrap.clientWidth&&e.updateSize()},500)},scroll:tN,keydown:nu,click:n1};var s,h=l.isOldIOSPhone||l.isOldAndroid||l.isMobileOpera,m,o;(!l.animationName||!l.transform||h)&&(n.showAnimationDuration=n.hideAnimationDuration=0);for(s=0;s<tu.length;s++)e["init"+tu[s]]();eK&&(m=e.ui=new eK(e,t),m.init()),a("firstUpdate"),i=i||n.index||0,(isNaN(i)||i<0||i>=O())&&(i=0),e.currItem=V(i),(l.isOldIOSPhone||l.isOldAndroid)&&(eC=!1),c.setAttribute("aria-hidden","false"),n.modal&&(eC?c.style.position="fixed":(c.style.position="absolute",c.style.top=t.getScrollY()+"px")),X===void 0&&(a("initialLayout"),X=tE=t.getScrollY()),o="pswp--open ",n.mainClass&&(o+=n.mainClass+" "),n.showHideOpacity&&(o+="pswp--animate_opacity "),o+=L?"pswp--touch":"pswp--notouch",o+=l.animationName?" pswp--css_animation":'',o+=l.svg?" pswp--svg":'',t.addClass(c,o),e.updateSize(),D=-1,k=null;for(s=0;s<Y;s++)ed((s+D)*w.x,u[s].el.style);tt||t.bind(e.scrollWrap,eR,e),d("initialZoomInEnd",function(){e.setContent(u[0],i-1),e.setContent(u[2],i+1),u[0].el.style.display=u[2].el.style.display="block",n.focus&&c.focus(),nl()}),e.setContent(u[1],i),e.updateCurrItem(),a("afterInit"),eC||(tl=setInterval(function(){!er&&!M&&!T&&r===e.currItem.initialZoomLevel&&e.updateSize()},1e3)),t.addClass(c,"pswp--visible")},close:function(){if(!e2)return;e2=!1,tC=!0,a("close"),nc(),tM(e.currItem,null,!0,e.destroy)},destroy:function(){a("destroy"),es&&clearTimeout(es),c.setAttribute("aria-hidden","true"),c.className=tx,tl&&clearInterval(tl),t.unbind(e.scrollWrap,eR,e),t.unbind(window,"scroll",e),t0(),e_(),ef=null},panTo:function(e,t,n){n||(e>o.min.x?e=o.min.x:e<o.max.x&&(e=o.max.x),t>o.min.y?t=o.min.y:t<o.max.y&&(t=o.max.y)),s.x=e,s.y=t,h()},handleEvent:function(e){e=e||window.event,p[e.type]&&p[e.type](e)},goTo:function(t){t=ez(t);var n=t-i;k=n,i=t,e.currItem=V(i),K-=n,eL(w.x*K),e_(),b=!1,e.updateCurrItem()},next:function(){e.goTo(i+1)},prev:function(){e.goTo(i-1)},updateCurrZoomItem:function(n){if(n&&a("beforeChange",0),u[1].el.children.length){var i=u[1].el.children[0];t.hasClass(i,"pswp__zoom-wrap")?F=i.style:F=null}else F=null;o=e.currItem.bounds,ee=r=e.currItem.initialZoomLevel,s.x=o.center.x,s.y=o.center.y,n&&a("afterChange")},invalidateCurrItems:function(){eN=!0;for(var e=0;e<Y;e++)u[e].item&&(u[e].item.needsUpdate=!0)},updateCurrItem:function(c){if(k===0)return;var n=Math.abs(k),t,s,o;if(c&&n<2)return;e.currItem=V(i),Z=!1,a("beforeChange",k),n>=Y&&(D+=k+(k>0?-Y:Y),n=Y);for(s=0;s<n;s++)k>0?(t=u.shift(),u[Y-1]=t,D++,ed((D+2)*w.x,t.el.style),e.setContent(t,i-n+s+1+1)):(t=u.pop(),u.unshift(t),D--,ed(D*w.x,t.el.style),e.setContent(t,i+n-s-1-1));F&&Math.abs(k)===1&&(o=V(tV),o.initialZoomLevel!==r&&(e9(o,f),et(o),e8(o))),k=0,e.updateCurrZoomItem(),tV=i,a("afterChange")},updateSize:function(v){if(!eC&&n.modal){var g=t.getScrollY(),p,l,d,m;if(X!==g&&(c.style.top=g+"px",X=g),!v&&e5.x===window.innerWidth&&e5.y===window.innerHeight)return;e5.x=window.innerWidth,e5.y=window.innerHeight,c.style.height=e5.y+"px"}if(f.x=e.scrollWrap.clientWidth,f.y=e.scrollWrap.clientHeight,tN(),w.x=f.x+Math.round(f.x*n.spacing),w.y=f.y,eL(w.x*K),a("beforeResize"),D!==void 0){for(m=0;m<Y;m++)p=u[m],ed((m+D)*w.x,p.el.style),d=i+m-1,n.loop&&O()>2&&(d=ez(d)),l=V(d),l&&(eN||l.needsUpdate||!l.bounds)?(e.cleanSlide(l),e.setContent(p,d),m===1&&(e.currItem=l,e.updateCurrZoomItem(!0)),l.needsUpdate=!1):p.index===-1&&d>=0&&e.setContent(p,d),l&&l.container&&(e9(l,f),et(l),e8(l));eN=!1}ee=r=e.currItem.initialZoomLevel,o=e.currItem.bounds,o&&(s.x=o.center.x,s.y=o.center.y,h(!0)),a("resize")},zoomTo:function(n,i,u,m,c){i&&(ee=r,eO.x=Math.abs(i.x)-s.x,eO.y=Math.abs(i.y)-s.y,g(ei,s));var l=eG(n,!1),e={},d,o,a;tF("x",l,e,n),tF("y",l,e,n),d=r,o={x:s.x,y:s.y},tS(e),a=function(t){t===1?(r=n,s.x=e.x,s.y=e.y):(r=(n-d)*t+d,s.x=(e.x-o.x)*t+o.x,s.y=(e.y-o.y)*t+o.y),c&&c(t),h(t===1)},u?em("customZoomTo",0,1,u,m||t.easing.sine.inOut,a):a(1)}},tT=30,th=10;var t,e,t$,Y,n,R,n4,tT,th,tP,ek,v={},Q={},j={},y={},ea={},$=[],en={},e6,J=[],e1={},eY,eh,ew,eB=0,ex=R(),e$=0,M,eU,eo,e3,eP,H,C,T,tA,tk,o,z=R(),F,b,eO=R(),e0=R(),W,tr,eF,eM,eS,n0=function(e,t){return e.x===t.x&&e.y===t.y},nr=function(e,t){return Math.abs(e.x-t.x)<t$&&Math.abs(e.y-t.y)<t$},ty=function(e,t){return e1.x=Math.abs(e.x-t.x),e1.y=Math.abs(e.y-t.y),Math.sqrt(e1.x*e1.x+e1.y*e1.y)},t0=function(){eP&&(ti(eP),eP=null)},tb=function(){M&&(eP=eA(tb),nt())},na=function(){return!(n.scaleMode==="fit"&&r===e.currItem.initialZoomLevel)},tv=function(e,t){return!(!e||e===document)&&(!(e.getAttribute("class")&&e.getAttribute("class").indexOf("pswp__scroll-wrap")>-1)&&(t(e)?e:tv(e.parentNode,t)))},ta={},t5=function(e,t){return ta.prevent=!tv(e.target,n.isClickableElement),a("preventDragEvent",e,t,ta),ta.prevent},tf=function(t,e){return e.x=t.pageX,e.y=t.pageY,e.id=t.identifier,e},t6=function(e,t,n){n.x=(e.x+t.x)*.5,n.y=(e.y+t.y)*.5},ni=function(t,n,s){if(t-ek>50){var e=J.length>2?J.shift():{};e.x=n,e.y=s,J.push(e),ek=t}},tg=function(){var t=s.y-e.currItem.initialPosition.y;return 1-Math.abs(t/(f.y/2))},eg={},no={},B=[],eE,t2=function(e){for(;B.length>0;)B.pop();return I?(eE=0,$.forEach(function(e){eE===0?B[0]=e:eE===1&&(B[1]=e),eE++})):e.type.indexOf("touch")>-1?e.touches&&e.touches.length>0&&(B[0]=tf(e.touches[0],eg),e.touches.length>1&&(B[1]=tf(e.touches[1],no))):(eg.x=e.pageX,eg.y=e.pageY,eg.id='',B[0]=eg),B},tj=function(t,l){var c,f=0,i=s[t]+l[t],h,p=l[t]>0,d=z.x+l.x,m=z.x-en.x,u,a;if(i>o.min[t]||i<o.max[t]?c=n.panEndFriction:c=1,i=s[t]+l[t]*c,n.allowPanToNext||r===e.currItem.initialZoomLevel)if(F?W==="h"&&t==="x"&&!eo&&(p?(i>o.min[t]&&(c=n.panEndFriction,f=o.min[t]-i,h=o.min[t]-ei[t]),(h<=0||m<0)&&O()>1?(a=d,m<0&&d>en.x&&(a=en.x)):o.min.x!==o.max.x&&(u=i)):(i<o.max[t]&&(c=n.panEndFriction,f=i-o.max[t],h=ei[t]-o.max[t]),(h<=0||m>0)&&O()>1?(a=d,m>0&&d<en.x&&(a=en.x)):o.min.x!==o.max.x&&(u=i))):a=d,t==="x")return a!==void 0&&(eL(a,!0),a===en.x?H=!1:H=!0),o.min.x!==o.max.x&&(u!==void 0?s.x=u:H||(s.x+=l.x*c)),a!==void 0;b||H||r>e.currItem.fitRatio&&(s[t]+=l[t]*c)},ns=function(n){if(n.type==="mousedown"&&n.button>0)return;if(ec){n.preventDefault();return}if(ew&&n.type==="mousedown")return;t5(n,!0)&&n.preventDefault(),a("pointerDown"),I&&(i=t.arraySearch($,n.pointerId,"id"),i<0&&(i=$.length),$[i]={x:n.pageX,y:n.pageY,id:n.pointerId});var i,o=t2(n),c=o.length;C=null,e_(),(!M||c===1)&&(M=tr=!0,t.bind(window,eb,e),eY=eS=eF=eh=H=e3=eU=eo=!1,W=null,a("firstTouchStart",o),g(ei,s),q.x=q.y=0,g(y,o[0]),g(ea,y),en.x=w.x*K,J=[{x:y.x,y:y.y}],ek=tP=A(),eG(r,!0),t0(),tb()),!T&&c>1&&!b&&!H&&(ee=r,eo=!1,T=eU=!0,q.y=q.x=0,g(ei,s),g(v,o[0]),g(Q,o[1]),t6(v,Q,e0),eO.x=Math.abs(e0.x)-s.x,eO.y=Math.abs(e0.y)-s.y,tA=tk=ty(v,Q))},nn=function(e){if(e.preventDefault(),I){var s=t.arraySearch($,e.pointerId,"id"),o,n,i;s>-1&&(o=$[s],o.x=e.pageX,o.y=e.pageY)}M&&(n=t2(e),!W&&!e3&&!T?z.x!==w.x*K?W="h":(i=Math.abs(n[0].x-y.x)-Math.abs(n[0].y-y.y),Math.abs(i)>=th&&(W=i>0?"h":"v",C=n)):C=n)},nt=function(){if(!C)return;if(d=C.length,d===0)return;if(g(v,C[0]),j.x=v.x-y.x,j.y=v.y-y.y,T&&d>1){if(y.x=v.x,y.y=v.y,!j.x&&!j.y&&n0(C[1],Q))return;g(Q,C[1]),eo||(eo=!0,a("zoomGestureStarted")),u=ty(v,Q),t=tG(u),t>e.currItem.initialZoomLevel+e.currItem.initialZoomLevel/15&&(eS=!0);var d,u,t,i=1,c=t_(),l=tz(),p,m,f,b;t<c?n.pinchToClose&&!eS&&ee<=e.currItem.initialZoomLevel?(p=c-t,m=1-p/(c/1.2),N(m),a("onPinchClose",m),eF=!0):(i=(c-t)/c,i>1&&(i=1),t=c-i*(c/3)):t>l&&(i=(t-l)/(c*6),i>1&&(i=1),t=l+i*c),i<0&&(i=0),tA=u,t6(v,Q,ex),q.x+=ex.x-e0.x,q.y+=ex.y-e0.y,g(e0,ex),s.x=eq("x",t),s.y=eq("y",t),eY=t>r,r=t,h()}else{if(!W)return;if(tr&&(tr=!1,Math.abs(j.x)>=th&&(j.x-=C[0].x-ea.x),Math.abs(j.y)>=th&&(j.y-=C[0].y-ea.y)),y.x=v.x,y.y=v.y,j.x===0&&j.y===0)return;if(W==="v"&&n.closeOnVerticalDrag)if(!na()){q.y+=j.y,s.y+=j.y,f=tg(),eh=!0,a("onVerticalDrag",f),N(f),h();return}ni(A(),v.x,v.y),e3=!0,o=e.currItem.bounds,b=tj("x",j),b||(tj("y",j),tS(s),h())}},ne=function(o){if(l.isOldAndroid){if(ew&&o.type==="mouseup")return;o.type.indexOf("touch")>-1&&(clearTimeout(ew),ew=setTimeout(function(){ew=0},600))}a("pointerUp"),t5(o,!1)&&o.preventDefault(),I&&(m=t.arraySearch($,o.pointerId,"id"),m>-1&&(i=$.splice(m,1)[0],navigator.msPointerEnabled?(y={4:"mouse",2:"touch",3:"pen"},i.type=y[o.pointerType],i.type||(i.type=o.pointerType||"mouse")):i.type=o.pointerType||"mouse"));var i,m,y,p=t2(o),d,c=p.length,u,j,f,v,_;if(o.type==="mouseup"&&(c=0),c===2)return C=null,!0;if(c===1&&g(ea,p[0]),c===0&&!W&&!b&&(i||(o.type==="mouseup"?i={x:o.pageX,y:o.pageY,type:"mouse"}:o.changedTouches&&o.changedTouches[0]&&(i={x:o.changedTouches[0].pageX,y:o.changedTouches[0].pageY,type:"touch"})),a("touchRelease",o,i)),u=-1,c===0&&(M=!1,t.unbind(window,eb,e),t0(),T?u=0:e$!==-1&&(u=A()-e$)),e$=c===1?A():-1,u!==-1&&u<150?d="zoom":d="swipe",T&&c<2&&(T=!1,c===1&&(d="zoomPointerUp"),a("zoomGestureEnded")),C=null,!e3&&!eo&&!b&&!eh)return;if(e_(),e6||(e6=tJ()),e6.calculateSwipeSpeed("x"),eh){j=tg(),j<n.verticalDragRange?e.close():(f=s.y,v=eM,em("verticalDrag",0,1,300,t.easing.cubic.out,function(t){s.y=(e.currItem.initialPosition.y-f)*t+f,N((1-v)*t+v),h()}),a("onVerticalDrag",1));return}if((H||b)&&c===0){if(_=tX(d,e6),_)return;d="zoomPointerUp"}if(b)return;if(d!=="swipe"){tY();return}!H&&r>e.currItem.fitRatio&&tQ(e6)},tJ=function(){var n,i,e={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(t){J.length>1?(n=A()-ek+50,i=J[J.length-2][t]):(n=A()-tP,i=ea[t]),e.lastFlickOffset[t]=y[t]-i,e.lastFlickDist[t]=Math.abs(e.lastFlickOffset[t]),e.lastFlickDist[t]>20?e.lastFlickSpeed[t]=e.lastFlickOffset[t]/n:e.lastFlickSpeed[t]=0,Math.abs(e.lastFlickSpeed[t])<.1&&(e.lastFlickSpeed[t]=0),e.slowDownRatio[t]=.95,e.slowDownRatioReverse[t]=1-e.slowDownRatio[t],e.speedDecelerationRatio[t]=1},calculateOverBoundsAnimOffset:function(n,i){e.backAnimStarted[n]||(s[n]>o.min[n]?e.backAnimDestination[n]=o.min[n]:s[n]<o.max[n]&&(e.backAnimDestination[n]=o.max[n]),e.backAnimDestination[n]!==void 0&&(e.slowDownRatio[n]=.7,e.slowDownRatioReverse[n]=1-e.slowDownRatio[n],e.speedDecelerationRatioAbs[n]<.05&&(e.lastFlickSpeed[n]=0,e.backAnimStarted[n]=!0,em("bounceZoomPan"+n,s[n],e.backAnimDestination[n],i||300,t.easing.sine.out,function(e){s[n]=e,h()}))))},calculateAnimOffset:function(t){e.backAnimStarted[t]||(e.speedDecelerationRatio[t]=e.speedDecelerationRatio[t]*(e.slowDownRatio[t]+e.slowDownRatioReverse[t]-e.slowDownRatioReverse[t]*e.timeDiff/10),e.speedDecelerationRatioAbs[t]=Math.abs(e.lastFlickSpeed[t]*e.speedDecelerationRatio[t]),e.distanceOffset[t]=e.lastFlickSpeed[t]*e.speedDecelerationRatio[t]*e.timeDiff,s[t]+=e.distanceOffset[t])},panAnimLoop:function(){if(x.zoomPan)if(x.zoomPan.raf=eA(e.panAnimLoop),e.now=A(),e.timeDiff=e.now-e.lastNow,e.lastNow=e.now,e.calculateAnimOffset("x"),e.calculateAnimOffset("y"),h(),e.calculateOverBoundsAnimOffset("x"),e.calculateOverBoundsAnimOffset("y"),e.speedDecelerationRatioAbs.x<.05&&e.speedDecelerationRatioAbs.y<.05){s.x=Math.round(s.x),s.y=Math.round(s.y),h(),ej("zoomPan");return}}};return e},tQ=function(t){if(t.calculateSwipeSpeed("y"),o=e.currItem.bounds,t.backAnimDestination={},t.backAnimStarted={},Math.abs(t.lastFlickSpeed.x)<=.05&&Math.abs(t.lastFlickSpeed.y)<=.05)return t.speedDecelerationRatioAbs.x=t.speedDecelerationRatioAbs.y=0,t.calculateOverBoundsAnimOffset("x"),t.calculateOverBoundsAnimOffset("y"),!0;td("zoomPan"),t.lastNow=A(),t.panAnimLoop()},tX=function(m,o){if(b||(eB=i),m==="swipe"){var r,c,u=y.x-ea.x,h=o.lastFlickDist.x<10,l,d,f,s;u>tT&&(h||o.lastFlickOffset.x>20)?c=-1:u<-tT&&(h||o.lastFlickOffset.x<-20)&&(c=1)}return c&&(i+=c,i<0?(i=n.loop?O()-1:0,l=!0):i>=O()&&(i=n.loop?0:O()-1,l=!0),(!l||n.loop)&&(k+=c,K-=c,r=!0)),d=w.x*K,f=Math.abs(d-z.x),!r&&d>z.x!==o.lastFlickSpeed.x>0?s=333:(s=Math.abs(o.lastFlickSpeed.x)>0?f/Math.abs(o.lastFlickSpeed.x):333,s=Math.min(s,400),s=Math.max(s,250)),eB===i&&(r=!1),b=!0,a("mainScrollAnimStart"),em("mainScroll",z.x,d,s,t.easing.cubic.out,eL,function(){e_(),b=!1,eB=-1,(r||eB!==i)&&e.updateCurrItem(),a("mainScrollAnimComplete")}),r&&e.updateCurrItem(!0),r},tG=function(e){return 1/tk*e*ee},tY=function(){var n=r,s=t_(),o=tz(),c,i,a;return r<s?n=s:r>o&&(n=o),c=1,a=eM,eF&&!eY&&!eS&&r<s?(e.close(),!0):(eF&&(i=function(e){N((c-a)*e+a)}),e.zoomTo(n,0,200,t.easing.cubic.out,i),!0)},es,tM,U,eJ,tn,_,tZ;ep("Gestures",{publicMethods:{initGestures:function(){var t=function(e,n,s,o,t){eI=e+n,eH=e+s,ev=e+o,t?e7=e+t:e7=''};I=l.pointerEvent,I&&l.touch&&(l.touch=!1),I?navigator.msPointerEnabled?t("MSPointer","Down","Move","Up","Cancel"):t("pointer","down","move","up","cancel"):l.touch?(t("touch","start","move","end","cancel"),L=!0):t("mouse","down","move","up"),eb=eH+" "+ev+" "+e7,eR=eI,I&&!L&&(L=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),e.likelyTouchDevice=L,p[eI]=ns,p[eH]=nn,p[ev]=ne,e7&&(p[e7]=p[ev]),l.touch&&(eR+=" mousedown",eb+=" mousemove mouseup",p.mousedown=p[eI],p.mousemove=p[eH],p.mouseup=p[ev]),L||(n.allowPanToNext=!1)}}}),tM=function(l,f,d,p){es&&clearTimeout(es),ec=!0,tc=!0,l.initialLayout?(o=l.initialLayout,l.initialLayout=null):o=n.getThumbBoundsFn&&n.getThumbBoundsFn(i);var o,u=d?n.hideAnimationDuration:n.showAnimationDuration,v,m=function(){ej("initialZoom"),d?(e.template.removeAttribute("style"),e.bg.removeAttribute("style")):(N(1),f&&(f.style.display="block"),t.addClass(c,"pswp--animated-in"),a("initialZoom"+(d?"OutEnd":"InEnd"))),p&&p(),ec=!1};if(!u||!o||o.x===void 0){a("initialZoom"+(d?"Out":"In")),r=l.initialZoomLevel,g(s,l.initialPosition),h(),c.style.opacity=d?0:1,N(1),u?setTimeout(function(){m()},u):m();return}v=function(){var f=eZ,i=!e.currItem.src||e.currItem.loadError||n.showHideOpacity;l.miniImg&&(l.miniImg.style.webkitBackfaceVisibility="hidden"),d||(r=o.w/l.w,s.x=o.x,s.y=o.y-tE,e[i?"template":"bg"].style.opacity=.001,h()),td("initialZoom"),d&&!f&&t.removeClass(c,"pswp--animated-in"),i&&(d?t[(f?"remove":"add")+"Class"](c,"pswp--animate_opacity"):setTimeout(function(){t.addClass(c,"pswp--animate_opacity")},30)),es=setTimeout(function(){if(a("initialZoom"+(d?"Out":"In")),d){var n=o.w/l.w,e={x:s.x,y:s.y},p=r,v=eM,b=function(t){t===1?(r=n,s.x=o.x,s.y=o.y-X):(r=(n-p)*t+p,s.x=(o.x-e.x)*t+e.x,s.y=(o.y-X-e.y)*t+e.y),h(),i?c.style.opacity=1-t:N(v-t*v)};f?em("initialZoom",0,1,u,t.easing.cubic.out,b,m):(b(1),es=setTimeout(m,u+20))}else r=l.initialZoomLevel,g(s,l.initialPosition),h(),N(1),i?c.style.opacity=1:N(1),es=setTimeout(m,u+20)},d?25:90)},v()};var P,E={},G=[],tc,ec,tq={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return P.length}},V,O,tK,tI=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},tU=function(t,n,s){var e=t.bounds;e.center.x=Math.round((E.x-n)/2),e.center.y=Math.round((E.y-s)/2)+t.vGap.top,e.max.x=n>E.x?Math.round(E.x-n):e.center.x,e.max.y=s>E.y?Math.round(E.y-s)+t.vGap.top:e.center.y,e.min.x=n>E.x?0:e.center.x,e.min.y=s>E.y?t.vGap.top:e.center.y},e9=function(e,o,t){if(e.src&&!e.loadError){var s=!t,i,r,c;if(s&&(e.vGap||(e.vGap={top:0,bottom:0}),a("parseVerticalMargin",e)),E.x=o.x,E.y=o.y-e.vGap.top-e.vGap.bottom,s&&(i=E.x/e.w,r=E.y/e.h,e.fitRatio=i<r?i:r,c=n.scaleMode,c==="orig"?t=1:c==="fit"&&(t=e.fitRatio),t>1&&(t=1),e.initialZoomLevel=t,e.bounds||(e.bounds=tI())),!t)return;return tU(e,e.w*t,e.h*t),s&&t===e.initialZoomLevel&&(e.initialPosition=e.bounds.center),e.bounds}return e.w=e.h=0,e.initialZoomLevel=e.fitRatio=1,e.bounds=tI(),e.initialPosition=e.bounds.center,e.bounds},eD=function(i,t,s,n,a,o){if(t.loadError)return;n&&(t.imageAppended=!0,et(t,n,t===e.currItem&&Z),s.appendChild(n),o&&setTimeout(function(){t&&t.loaded&&t.placeholder&&(t.placeholder.style.display="none",t.placeholder=null)},500))},tw=function(e){e.loading=!0,e.loaded=!1;var n=e.img=t.createEl("pswp__img","img"),s=function(){e.loading=!1,e.loaded=!0,e.loadComplete?e.loadComplete(e):e.img=null,n.onload=n.onerror=null,n=null};return n.onload=s,n.onerror=function(){e.loadError=!0,s()},n.src=e.src,n},tB=function(e,t){if(e.src&&e.loadError&&e.container)return t&&(e.container.innerHTML=''),e.container.innerHTML=n.errorMsg.replace("%url%",e.src),!0},et=function(e,t,n){if(!e.src)return;t||(t=e.container.lastChild);var s=n?e.w:Math.round(e.w*e.fitRatio),o=n?e.h:Math.round(e.h*e.fitRatio);e.placeholder&&!e.loaded&&(e.placeholder.style.width=s+"px",e.placeholder.style.height=o+"px"),t.style.width=s+"px",t.style.height=o+"px"},tL=function(){if(G.length){for(var e,t=0;t<G.length;t++)e=G[t],e.holder.index===e.index&&eD(e.index,e.item,e.baseDiv,e.img,!1,e.clearPlaceholder);G=[]}};ep("Controller",{publicMethods:{lazyLoadItem:function(t){t=ez(t);var e=V(t);if(!e||(e.loaded||e.loading)&&!eN)return;if(a("gettingData",t,e),!e.src)return;tw(e)},initController:function(){t.extend(n,tq,!0),e.items=P=t9,V=e.getItemAt,O=n.getNumItemsFn,tK=n.loop,O()<3&&(n.loop=!1),d("beforeChange",function(s){var o=n.preload,a=s===null||s>=0,r=Math.min(o[0],O()),c=Math.min(o[1],O()),t;for(t=1;t<=(a?c:r);t++)e.lazyLoadItem(i+t);for(t=1;t<=(a?r:c);t++)e.lazyLoadItem(i-t)}),d("initialLayout",function(){e.currItem.initialLayout=n.getThumbBoundsFn&&n.getThumbBoundsFn(i)}),d("mainScrollAnimComplete",tL),d("initialZoomInEnd",tL),d("destroy",function(){for(var e,t=0;t<P.length;t++)e=P[t],e.container&&(e.container=null),e.placeholder&&(e.placeholder=null),e.img&&(e.img=null),e.preloader&&(e.preloader=null),e.loadError&&(e.loaded=e.loadError=!1);G=null})},getItemAt:function(e){return e>=0&&(P[e]!==void 0&&P[e])},allowProgressiveImg:function(){return n.forceProgressiveLoading||!L||n.mouseUsed||screen.width>1200},setContent:function(r,o){n.loop&&(o=ez(o));var h=e.getItemAt(r.index),s,d,c,m,u;if(h&&(h.container=null),s=e.getItemAt(o),!s){r.el.innerHTML='';return}a("gettingData",o,s),r.index=o,r.item=s,c=s.container=t.createEl("pswp__zoom-wrap"),!s.src&&s.html&&(s.html.tagName?c.appendChild(s.html):c.innerHTML=s.html),tB(s),e9(s,f),s.src&&!s.loadError&&!s.loaded?(s.loadComplete=function(t){if(!e2)return;if(r&&r.index===o){if(tB(t,!0)){t.loadComplete=t.img=null,e9(t,f),e8(t),r.index===i&&e.updateCurrZoomItem();return}t.imageAppended?!ec&&t.placeholder&&(t.placeholder.style.display="none",t.placeholder=null):l.transform&&(b||ec)?G.push({item:t,baseDiv:c,img:t.img,index:o,holder:r,clearPlaceholder:!0}):eD(o,t,c,t.img,b||ec,!0)}t.loadComplete=null,t.img=null,a("imageLoadComplete",o,t)},t.features.transform&&(m="pswp__img pswp__img--placeholder",m+=s.msrc?'':" pswp__img--placeholder--blank",u=t.createEl(m,s.msrc?"img":''),s.msrc&&(u.src=s.msrc),et(s,u),c.appendChild(u),s.placeholder=u),s.loading||tw(s),e.allowProgressiveImg()&&(!tc&&l.transform?G.push({item:s,baseDiv:c,img:s.img,index:o,holder:r}):eD(o,s,c,s.img,!0,!0))):s.src&&!s.loadError&&(d=t.createEl("pswp__img","img"),d.style.opacity=1,d.src=s.src,et(s,d),eD(o,s,c,d,!0)),!tc&&o===i?(F=c.style,tM(s,d||s.img)):e8(s),r.el.innerHTML='',r.el.appendChild(c)},cleanSlide:function(e){e.img&&(e.img.onload=e.img.onerror=null),e.loaded=e.loading=e.img=e.imageAppended=!1}}}),eJ={},tn=function(e,n,s){var t=document.createEvent("CustomEvent"),o={origEvent:e,target:e.target,releasePoint:n,pointerType:s||"touch"};t.initCustomEvent("pswpTap",!0,!0,o),e.target.dispatchEvent(t)},ep("Tap",{publicMethods:{initTap:function(){d("firstTouchStart",e.onTapStart),d("touchRelease",e.onTapRelease),d("destroy",function(){eJ={},U=null})},onTapStart:function(e){e.length>1&&(clearTimeout(U),U=null)},onTapRelease:function(n,e){if(!e)return;if(!e3&&!eU&&!er){var s=e,o;if(U)if(clearTimeout(U),U=null,nr(s,eJ)){a("doubleTap",s);return}if(e.type==="mouse"){tn(n,e,"mouse");return}if(o=n.target.tagName.toUpperCase(),o==="BUTTON"||t.hasClass(n.target,"pswp__single-tap")){tn(n,e);return}g(eJ,s),U=setTimeout(function(){tn(n,e),U=null},300)}}}}),ep("DesktopZoom",{publicMethods:{initDesktopZoom:function(){if(tt)return;L?d("mouseUsed",function(){e.setupDesktopZoom()}):e.setupDesktopZoom(!0)},setupDesktopZoom:function(a){_={},o="wheel mousewheel DOMMouseScroll",d("bindEvents",function(){t.bind(c,o,e.handleMouseWheel)}),d("unbindEvents",function(){_&&t.unbind(c,o,e.handleMouseWheel)}),e.mouseZoomedIn=!1;var o,n,s=function(){e.mouseZoomedIn&&(t.removeClass(c,"pswp--zoomed-in"),e.mouseZoomedIn=!1),r<1?t.addClass(c,"pswp--zoom-allowed"):t.removeClass(c,"pswp--zoom-allowed"),i()},i=function(){n&&(t.removeClass(c,"pswp--dragging"),n=!1)};d("resize",s),d("afterChange",s),d("pointerDown",function(){e.mouseZoomedIn&&(n=!0,t.addClass(c,"pswp--dragging"))}),d("pointerUp",i),a||s()},handleMouseWheel:function(t){if(r<=e.currItem.fitRatio)return n.modal&&(!n.closeOnScroll||er||M?t.preventDefault():eu&&Math.abs(t.deltaY)>2&&(eZ=!0,e.close())),!0;if(t.stopPropagation(),_.x=0,"deltaX"in t)t.deltaMode===1?(_.x=t.deltaX*18,_.y=t.deltaY*18):(_.x=t.deltaX,_.y=t.deltaY);else if("wheelDelta"in t)t.wheelDeltaX&&(_.x=-.16*t.wheelDeltaX),t.wheelDeltaY?_.y=-.16*t.wheelDeltaY:_.y=-.16*t.wheelDelta;else if("detail"in t)_.y=t.detail;else return;eG(r,!0);var i=s.x-_.x,a=s.y-_.y;(n.modal||i<=o.min.x&&i>=o.max.x&&a<=o.min.y&&a>=o.max.y)&&t.preventDefault(),e.panTo(i,a)},toggleDesktopZoom:function(s){s=s||{x:f.x/2+el.x,y:f.y/2+el.y};var i=n.getDoubleTapZoom(!0,e.currItem),o=r===i;e.mouseZoomedIn=!o,e.zoomTo(o?e.currItem.initialZoomLevel:i,s,333),t[(o?"remove":"add")+"Class"](c,"pswp--zoomed-in")}}}),tZ={history:!0,galleryUID:1};var ts,tO,ey,eT,t4,t7,m,e4,tm,eX,S,eQ,to=function(){return S.hash.substring(1)},tD=function(){ts&&clearTimeout(ts),ey&&clearTimeout(ey)},tR=function(){var i=to(),e={},t,s,o,a;if(i.length<5)return e;s=i.split("&");for(t=0;t<s.length;t++){if(!s[t])continue;if(o=s[t].split("="),o.length<2)continue;e[o[0]]=o[1]}if(n.galleryPIDs){{a=e.pid,e.pid=0;for(t=0;t<P.length;t++)if(P[t].pid===a){e.pid=t;break}}}else e.pid=parseInt(e.pid,10)-1;return e.pid<0&&(e.pid=0),e},eV=function(){if(ey&&clearTimeout(ey),er||M){ey=setTimeout(eV,500);return}eT?clearTimeout(tO):eT=!0;var t=i+1,e,o,s=V(i);s.hasOwnProperty("pid")&&(t=s.pid),e=m+"&"+"gid="+n.galleryUID+"&"+"pid="+t,e4||S.hash.indexOf(e)===-1&&(eX=!0),o=S.href.split("#")[0]+"#"+e,eQ?"#"+e!==window.location.hash&&history[e4?"replaceState":"pushState"]('',document.title,o):e4?S.replace(o):S.hash=e,e4=!0,tO=setTimeout(function(){eT=!1},60)};ep("History",{publicMethods:{initHistory:function(){if(t.extend(n,tZ,!0),!n.history)return;S=window.location,eX=!1,tm=!1,e4=!1,m=to(),eQ="pushState"in history,m.indexOf("gid=")>-1&&(m=m.split("&gid=")[0],m=m.split("?gid=")[0]),d("afterChange",e.updateURL),d("unbindEvents",function(){t.unbind(window,"hashchange",e.onHashChange)});var s=function(){t7=!0,tm||(eX?history.back():m?S.hash=m:eQ?history.pushState('',document.title,S.pathname+S.search):S.hash=''),tD()},o;d("unbindEvents",function(){eZ&&s()}),d("destroy",function(){t7||s()}),d("firstUpdate",function(){i=tR().pid}),o=m.indexOf("pid="),o>-1&&(m=m.substring(0,o),m.slice(-1)==="&"&&(m=m.slice(0,-1))),setTimeout(function(){e2&&t.bind(window,"hashchange",e.onHashChange)},40)},onHashChange:function(){if(to()===m){tm=!0,e.close();return}eT||(t4=!0,e.goTo(tR().pid),t4=!1)},updateURL:function(){if(tD(),t4)return;e4?ts=setTimeout(eV,800):eV()}}}),t.extend(e,n4)};return e}),function(t,e){typeof define=="function"&&define.amd?define(e):typeof exports=="object"?module.exports=e():t.PhotoSwipeUI_Default=e()}(this,function(){'use strict';var e=function(t,n){s=this;var y=!1,c=!0,a,o,m,d,C,E,l,r=!0,M,j,i,x,z,T,S,e,I={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(e,t){return e.title?(t.children[0].innerHTML=e.title,!0):(t.children[0].innerHTML='',!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return t.currItem.src||''},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return t.currItem.title||''},indexIndicatorSep:" / ",fitControlsWidth:1200},g,R,s,F=function(t){if(g)return!0;t=t||window.event,e.timeToIdle&&e.mouseUsed&&!j&&_();for(var a=t.target||t.srcElement,s,r=a.getAttribute("class")||'',i,c,o=0;o<p.length;o++)s=p[o],s.onTap&&r.indexOf("pswp__"+s.name)>-1&&(s.onTap(),i=!0);i&&(t.stopPropagation&&t.stopPropagation(),g=!0,c=n.features.isOldAndroid?600:30,R=setTimeout(function(){g=!1},c))},W=function(){return!t.likelyTouchDevice||e.mouseUsed||screen.width>e.fitControlsWidth},u=function(e,t,s){n[(s?"add":"remove")+"Class"](e,"pswp__"+t)},k=function(){var t=e.getNumItemsFn()===1;t!==S&&(u(o,"ui--one-slide",t),S=t)},D=function(){u(l,"share-modal--hidden",r)},h=function(){return r=!r,r?(n.removeClass(l,"pswp__share-modal--fade-in"),setTimeout(function(){r&&D()},300)):(D(),setTimeout(function(){r||n.addClass(l,"pswp__share-modal--fade-in")},30)),r||N(),!1},L=function(e){e=e||window.event;var n=e.target||e.srcElement;return!(t.shout("shareLinkClick",e,n),!n.href)&&(!!n.hasAttribute("download")||(window.open(n.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),r||h(),!1))},N=function(){for(var n='',t,i,s,a,r,o=0;o<e.shareButtons.length;o++)t=e.shareButtons[o],s=e.getImageURLForShare(t),a=e.getPageURLForShare(t),r=e.getTextForShare(t),i=t.url.replace("{{url}}",encodeURIComponent(a)).replace("{{image_url}}",encodeURIComponent(s)).replace("{{raw_image_url}}",s).replace("{{text}}",encodeURIComponent(r)),n+='<a href="'+i+'" target="_blank" '+'class="pswp__share--'+t.id+'"'+(t.download?"download":'')+">"+t.label+"</a>",e.parseShareButtonOut&&(n=e.parseShareButtonOut(t,n));l.children[0].innerHTML=n,l.children[0].onclick=L},b=function(s){for(var t=0;t<e.closeElClasses.length;t++)if(n.hasClass(s,"pswp__"+e.closeElClasses[t]))return!0},v,w,O=0,_=function(){clearTimeout(w),O=0,j&&s.setIdle(!1)},A=function(t){t=t||window.event;var n=t.relatedTarget||t.toElement;(!n||n.nodeName==="HTML")&&(clearTimeout(w),w=setTimeout(function(){s.setIdle(!0)},e.timeToIdleOutside))},P=function(){e.fullscreenEl&&!n.features.isOldAndroid&&(a||(a=s.getFullscreenAPI()),a?(n.bind(document,a.eventK,s.updateFullscreen),s.updateFullscreen(),n.addClass(t.template,"pswp--supports-fs")):n.removeClass(t.template,"pswp--supports-fs"))},H=function(){e.preloaderEl&&(f(!0),i("beforeChange",function(){clearTimeout(T),T=setTimeout(function(){t.currItem&&t.currItem.loading?(!t.allowProgressiveImg()||t.currItem.img&&!t.currItem.img.naturalWidth)&&f(!1):f(!0)},e.loadingIndicatorDelay)}),i("imageLoadComplete",function(n,e){t.currItem===e&&f(!0)}))},f=function(e){z!==e&&(u(x,"preloader--active",!e),z=e)},B=function(i){var t=i.vGap,s,a;W()?(s=e.barsSize,e.captionEl&&s.bottom==="auto"?(d||(d=n.createEl("pswp__caption pswp__caption--fake"),d.appendChild(n.createEl("pswp__caption__center")),o.insertBefore(d,m),n.addClass(o,"pswp__ui--fit")),e.addCaptionHTMLFn(i,d,!0)?(a=d.clientHeight,t.bottom=parseInt(a,10)||44):t.bottom=s.top):t.bottom=s.bottom==="auto"?0:s.bottom,t.top=s.top):t.top=t.bottom=0},V=function(){e.timeToIdle&&i("mouseUsed",function(){n.bind(document,"mousemove",_),n.bind(document,"mouseout",A),v=setInterval(function(){O++,O===2&&s.setIdle(!0)},e.timeToIdle/2)})},$=function(){i("onVerticalDrag",function(e){c&&e<.95?s.hideControls():!c&&e>=.95&&s.showControls()});var e;i("onPinchClose",function(t){c&&t<.9?(s.hideControls(),e=!0):e&&!c&&t>.9&&s.showControls()}),i("zoomGestureEnded",function(){e=!1,e&&!c&&s.showControls()})},p=[{name:"caption",option:"captionEl",onInit:function(e){m=e}},{name:"share-modal",option:"shareEl",onInit:function(e){l=e},onTap:function(){h()}},{name:"button--share",option:"shareEl",onInit:function(e){E=e},onTap:function(){h()}},{name:"button--zoom",option:"zoomEl",onTap:t.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(e){C=e}},{name:"button--close",option:"closeEl",onTap:t.close},{name:"button--arrow--left",option:"arrowEl",onTap:t.prev},{name:"button--arrow--right",option:"arrowEl",onTap:t.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){a.isFullscreen()?a.exit():a.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(e){x=e}}],U=function(){var t,i,s,a=function(o){if(!o)return;for(var c=o.length,r,a=0;a<c;a++){t=o[a],i=t.className;for(r=0;r<p.length;r++)s=p[r],i.indexOf("pswp__"+s.name)>-1&&(e[s.option]?(n.removeClass(t,"pswp__element--disabled"),s.onInit&&s.onInit(t)):n.addClass(t,"pswp__element--disabled"))}},r;a(o.children),r=n.getChildByClass(o,"pswp__top-bar"),r&&a(r.children)};s.init=function(){n.extend(t.options,I,!0),e=t.options,o=n.getChildByClass(t.scrollWrap,"pswp__ui"),i=t.listen,$(),i("beforeChange",s.update),i("doubleTap",function(n){var s=t.currItem.initialZoomLevel;t.getZoomLevel()!==s?t.zoomTo(s,n,333):t.zoomTo(e.getDoubleTapZoom(!1,t.currItem),n,333)}),i("preventDragEvent",function(t,s,n){var e=t.target||t.srcElement;e&&e.getAttribute("class")&&t.type.indexOf("mouse")>-1&&(e.getAttribute("class").indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(e.tagName))&&(n.prevent=!1)}),i("bindEvents",function(){n.bind(o,"pswpTap click",F),n.bind(t.scrollWrap,"pswpTap",s.onGlobalTap),t.likelyTouchDevice||n.bind(t.scrollWrap,"mouseover",s.onMouseOver)}),i("unbindEvents",function(){r||h(),v&&clearInterval(v),n.unbind(document,"mouseout",A),n.unbind(document,"mousemove",_),n.unbind(o,"pswpTap click",F),n.unbind(t.scrollWrap,"pswpTap",s.onGlobalTap),n.unbind(t.scrollWrap,"mouseover",s.onMouseOver),a&&(n.unbind(document,a.eventK,s.updateFullscreen),a.isFullscreen()&&(e.hideAnimationDuration=0,a.exit()),a=null)}),i("destroy",function(){e.captionEl&&(d&&o.removeChild(d),n.removeClass(m,"pswp__caption--empty")),l&&(l.children[0].onclick=null),n.removeClass(o,"pswp__ui--over-close"),n.addClass(o,"pswp__ui--hidden"),s.setIdle(!1)}),e.showAnimationDuration||n.removeClass(o,"pswp__ui--hidden"),i("initialZoomIn",function(){e.showAnimationDuration&&n.removeClass(o,"pswp__ui--hidden")}),i("initialZoomOut",function(){n.addClass(o,"pswp__ui--hidden")}),i("parseVerticalMargin",B),U(),e.shareEl&&E&&l&&(r=!0),k(),V(),P(),H()},s.setIdle=function(e){j=e,u(o,"ui--idle",e)},s.update=function(){c&&t.currItem?(s.updateIndexIndicator(),e.captionEl&&(e.addCaptionHTMLFn(t.currItem,m),u(m,"caption--empty",!t.currItem.title)),y=!0):y=!1,r||h(),k()},s.updateFullscreen=function(e){e&&setTimeout(function(){t.setScrollOffset(0,n.getScrollY())},50),n[(a.isFullscreen()?"add":"remove")+"Class"](t.template,"pswp--fs")},s.updateIndexIndicator=function(){e.counterEl&&(C.innerHTML=t.getCurrentIndex()+1+e.indexIndicatorSep+e.getNumItemsFn())},s.onGlobalTap=function(o){o=o||window.event;var i=o.target||o.srcElement;if(g)return;if(o.detail&&o.detail.pointerType==="mouse"){if(b(i)){t.close();return}n.hasClass(i,"pswp__img")&&t.close()}else if(e.tapToToggleControls&&(c?s.hideControls():s.showControls()),e.tapToClose&&(n.hasClass(i,"pswp__img")||b(i))){t.close();return}},s.onMouseOver=function(e){e=e||window.event;var t=e.target||e.srcElement;u(o,"ui--over-close",b(t))},s.hideControls=function(){n.addClass(o,"pswp__ui--hidden"),c=!1},s.showControls=function(){c=!0,y||s.update(),n.removeClass(o,"pswp__ui--hidden")},s.supportsFullscreen=function(){var e=document;return!!(e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen)},s.getFullscreenAPI=function(){var s=document.documentElement,n,o="fullscreenchange";return s.requestFullscreen?n={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:o}:s.mozRequestFullScreen?n={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+o}:s.webkitRequestFullscreen?n={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+o}:s.msRequestFullscreen&&(n={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),n&&(n.enter=function(){if(M=e.closeOnScroll,e.closeOnScroll=!1,this.enterK==="webkitRequestFullscreen")t.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT);else return t.template[this.enterK]()},n.exit=function(){return e.closeOnScroll=M,document[this.exitK]()},n.isFullscreen=function(){return document[this.elementK]}),n}};return e});var _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};(function(t,e){(typeof exports=="undefined"?"undefined":_typeof(exports))==="object"&&typeof module!="undefined"?e():typeof define=="function"&&define.amd?define(e):e()})(this,function(){'use strict';function i(t){var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){return e.reject(n)})})}var l=setTimeout,n;function d(){}function c(e,t){return function(){e.apply(t,arguments)}}function e(t){if(!(this instanceof e))throw new TypeError("Promises must be constructed via new");if(typeof t!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],a(t,this)}function r(n,o){for(;n._state===3;)n=n._value;if(n._state===0){n._deferreds.push(o);return}n._handled=!0,e._immediateFn(function(){var e=n._state===1?o.onFulfilled:o.onRejected,i;if(e===null){(n._state===1?s:t)(o.promise,n._value);return}try{i=e(n._value)}catch(e){t(o.promise,e);return}s(o.promise,i)})}function s(s,n){try{if(n===s)throw new TypeError("A promise cannot be resolved with itself.");if(n&&((typeof n=="undefined"?"undefined":_typeof(n))==="object"||typeof n=="function")){var i=n.then;if(n instanceof e){s._state=3,s._value=n,o(s);return}if(typeof i=="function"){a(c(i,n),s);return}}s._state=1,s._value=n,o(s)}catch(e){t(s,e)}}function t(e,t){e._state=2,e._value=t,o(e)}function o(t){t._state===2&&t._deferreds.length===0&&e._immediateFn(function(){t._handled||e._unhandledRejectionFn(t._value)});for(var n=0,s=t._deferreds.length;n<s;n++)r(t,t._deferreds[n]);t._deferreds=null}function u(e,t,n){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.promise=n}function a(o,n){var e=!1;try{o(function(t){if(e)return;e=!0,s(n,t)},function(s){if(e)return;e=!0,t(n,s)})}catch(s){if(e)return;e=!0,t(n,s)}}e.prototype.catch=function(e){return this.then(null,e)},e.prototype.then=function(t,n){var e=new this.constructor(d);return r(this,new u(t,n,e)),e},e.prototype.finally=i,e.all=function(t){return new e(function(s,o){if(!t||typeof t.length=="undefined")throw new TypeError("Promise.all accepts an array");var e=Array.prototype.slice.call(t),a,n;if(e.length===0)return s([]);a=e.length;function i(n,t){try{if(t&&((typeof t=="undefined"?"undefined":_typeof(t))==="object"||typeof t=="function")){var r=t.then;if(typeof r=="function"){r.call(t,function(e){i(n,e)},o);return}}e[n]=t,--a===0&&s(e)}catch(e){o(e)}}for(n=0;n<e.length;n++)i(n,e[n])})},e.resolve=function(t){return t&&(typeof t=="undefined"?"undefined":_typeof(t))==="object"&&t.constructor===e?t:new e(function(e){e(t)})},e.reject=function(t){return new e(function(n,e){e(t)})},e.race=function(t){return new e(function(n,s){for(var e=0,o=t.length;e<o;e++)t[e].then(n,s)})},e._immediateFn=typeof setImmediate=="function"&&function(e){setImmediate(e)}||function(e){l(e,0)},e._unhandledRejectionFn=function(e){typeof console!="undefined"&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},n=function(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("unable to locate global object")}(),"Promise"in n?n.Promise.prototype.finally||(n.Promise.prototype.finally=i):n.Promise=e}),function(t,e){'use strict';typeof define=="function"&&define.amd?define([],e):(typeof exports=="undefined"?"undefined":_typeof(exports))==="object"?module.exports=e():t.photoswipeSimplify=e()}(this,function(){'use strict';var t={target:"[data-pswp]"},s,n=function(){var t={},n,i=!1,e=0,s=arguments.length,o=function(e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};for(e=0;e<s;e++)n=arguments[e],o(n);return t},e=function(){};return e.prototype={initialized:!1,pswpElement:"",galleries:[],thumbnails:[],tmps:[],items:[],options:{},ImagesLoaded:!1,init:function(s){var e=this;e.options=n(t,s||{}),e.initialized||(e.append_template(),e.initialized=!0),e.initPhotoSwipe(e.options.target)},append_template:function(){var t=document.getElementsByTagName("body")[0],e=document.createElement("div");e.innerHTML='<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true"><div class="pswp__bg"></div><div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div><div class="pswp__item"></div><div class="pswp__item"></div></div><div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button><button class="pswp__button pswp__button--share" title="Share"></button><button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button><button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div> </div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button><button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div>',t.appendChild(e)},initPhotoSwipe:function(a){var e=this,t,s,i,o,n;if(e.pswpElement=document.querySelectorAll(".pswp")[0],e.galleries=document.querySelectorAll(a),e.galleries.length>0)for(t=0;t<e.galleries.length;t++){if(e.items[t]=[],e.thumbnails[t]=[],e.tmps[t]=e.galleries[t].getElementsByTagName("img"),e.tmps[t]=Array.prototype.slice.call(e.tmps[t]),e.tmps[t].length>0)for(s=0;s<e.tmps[t].length;s++)i=e.tmps[t][s].getAttribute("data-zoom-src"),/(.gif|.jpe?g|.png|.bmp)/.test(i.toLowerCase())&&e.thumbnails[t].push(e.tmps[t][s]);if(o=new Promise(function(n){e.parseItems(n,t)}),o.then(function(){e.galleryLoaded()}),e.thumbnails[t].length>0)for(n=0;n<e.thumbnails[t].length;n++)e.thumbnails[t][n].setAttribute("data-pswp-index",t),e.thumbnails[t][n].classList.add("pswp--item"),e.attachEvent(e.thumbnails[t][n],t,n)}},galleryLoaded:function(){var e=this,t;if(e.galleries.length>0)for(t=0;t<e.galleries.length;t++)e.galleries[t].classList.add("pswp--loaded")},attachEvent:function(s,e,n){var t=this;s.addEventListener("click",function(o){o.preventDefault(),document.body.classList.add("pswp--launched");var s=document.querySelector(".pswp--active");return s&&s.classList.remove("pswp--active"),t.galleries[e].classList.add("pswp--active"),t.galleries[e].setAttribute("data-pswp-index",n),t.galleries[e].classList.contains("pswp--loaded")&&n>=0&&t.open(e,n),!1})},getImageSizes:function(e,t,s,o,i,n){var a=this;new Promise(function(c){if(e.getAttribute("width")){var l=e.getAttribute("width"),r,d=e.getAttribute("height");a.items[s][o]={src:t,w:parseInt(l,10),h:parseInt(d,10),title:i,author:n},c()}else r=new Image,r.src=t,r.onload=function(){a.items[s][o]={src:t,w:r.naturalWidth,h:r.naturalHeight,title:i,author:n},c()}})},open:function(t,s){var e=this,n,i=e.galleries[t];e.options.galleryUID=t,e.options.index=s,e.options.getThumbBoundsFn=function(n){if(t=document.querySelector(".pswp--active"),t){var t,s=t.querySelectorAll(".pswp--item")[n],o=window.pageYOffset||document.documentElement.scrollTop,e=s.getBoundingClientRect();return{x:e.left,y:e.top+o,w:e.width}}},e.options.addCaptionHTMLFn=function(e,t){return e.title?(t.children[0].innerHTML=e.title,e.author&&(t.children[0].innerHTML+="<br><small>"+e.author+"</small>"),!0):(t.children[0].innerText='',!1)},document.body.classList.remove("pswp--launched"),n=new PhotoSwipe(e.pswpElement,PhotoSwipeUI_Default,e.items[t],e.options),n.init()},parseItems:function(a,e){var t=this,n,i,s,r,c,o=[];if(t.thumbnails[e].length>0)for(n=0;n<t.thumbnails[e].length;n++)i=t.thumbnails[e][n],s=t.thumbnails[e][n].getAttribute("data-zoom-src"),r=t.thumbnails[e][n].getAttribute("data-caption"),c=t.thumbnails[e][n].getAttribute("data-author"),console.log(s),o.push(t.getImageSizes(i,s,e,n,r,c)),Promise.all(o).then(function(){a()})}},s=new e,s});function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function _extends(){return(_extends=Object.assign||function(s){for(var e=1,t,n;e<arguments.length;e++){t=arguments[e];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(s[n]=t[n])}return s}).apply(this,arguments)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(t,e){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.LazyLoad=e()}(this,function(){"use strict";var n="undefined"!=typeof window,y=n&&!("onscroll"in window)||"undefined"!=typeof navigator&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),E=n&&"IntersectionObserver"in window,_=n&&"classList"in document.createElement("p"),S={elements_selector:"img",container:y||n?document:null,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",data_poster:"poster",class_loading:"loading",class_loaded:"loaded",class_error:"error",load_delay:0,auto_unobserve:!0,callback_enter:null,callback_exit:null,callback_reveal:null,callback_loaded:null,callback_error:null,callback_finish:null,use_native:!1},v=function(n,s){var e,t=new n(s);try{e=new CustomEvent("LazyLoad::Initialized",{detail:{instance:t}})}catch(n){(e=document.createEvent("CustomEvent")).initCustomEvent("LazyLoad::Initialized",!1,!1,{instance:t})}window.dispatchEvent(e)},e=function(e,t){return e.getAttribute("data-"+t)},r=function(e,s,t){var n="data-"+s;null!==t?e.setAttribute(n,t):e.removeAttribute(n)},f=function(t){return"true"===e(t,"was-processed")},u=function(e,t){return r(e,"ll-timeout",t)},x=function(t){return e(t,"ll-timeout")},s=function(e,t,n,s){e&&(void 0===s?void 0===n?e(t):e(t,n):e(t,n,s))},h=function(e,t){e._loadingCount+=t,0===e._elements.length&&0===e._loadingCount&&s(e._settings.callback_finish,e)},m=function(s){for(var e,t=[],n=0;e=s.children[n];n+=1)"SOURCE"===e.tagName&&t.push(e);return t},t=function(t,n,e){e&&t.setAttribute(n,e)},p=function(n,s){t(n,"sizes",e(n,s.data_sizes)),t(n,"srcset",e(n,s.data_srcset)),t(n,"src",e(n,s.data_src))},T={IMG:function(t,n){var e=t.parentNode;e&&"PICTURE"===e.tagName&&m(e).forEach(function(e){p(e,n)}),p(t,n)},IFRAME:function(n,s){t(n,"src",e(n,s.data_src))},VIDEO:function(n,s){m(n).forEach(function(n){t(n,"src",e(n,s.data_src))}),t(n,"poster",e(n,s.data_poster)),t(n,"src",e(n,s.data_src)),n.load()}},D=function(t,n){var s,o,i=n._settings,r=t.tagName,a=T[r];if(a)return a(t,i),h(n,1),void(n._elements=(s=n._elements,o=t,s.filter(function(e){return e!==o})));!function(t,n){var s=e(t,n.data_src),o=e(t,n.data_bg);s&&(t.style.backgroundImage='url("'.concat(s,'")')),o&&(t.style.backgroundImage=o)}(t,i)},b=function(e,t){_?e.classList.add(t):e.className+=(e.className?" ":"")+t},j=function(e,t){_?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\s+)"+t+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")},a=function(e,t,n){e.addEventListener(t,n)},i=function(e,t,n){e.removeEventListener(t,n)},w=function(e,t,n){i(e,"load",t),i(e,"loadeddata",t),i(e,"error",n)},O=function(r,o,n){var e=n._settings,i=o?e.class_loaded:e.class_error,a=o?e.callback_loaded:e.callback_error,t=r.target;j(t,e.class_loading),b(t,i),s(a,t,n),h(n,-1)},k=function(e,t){var n=function n(o){O(o,!0,t),w(e,n,s)},s=function s(o){O(o,!1,t),w(e,n,s)};!function(e,t,n){a(e,"load",t),a(e,"loadeddata",t),a(e,"error",n)}(e,n,s)},C=["IMG","IFRAME","VIDEO"],c=function(t,e){var n=e._observer;o(t,e),n&&e._settings.auto_unobserve&&n.unobserve(t)},d=function(e){var t=x(e);t&&(clearTimeout(t),u(e,null))},A=function(e,n){var s=n._settings.load_delay,t=x(e);t||(t=setTimeout(function(){c(e,n),d(e)},s),u(e,t))},o=function(e,t,o){var n=t._settings;!o&&f(e)||(C.indexOf(e.tagName)>-1&&(k(e,t),b(e,n.class_loading)),D(e,t),function(e){r(e,"was-processed","true")}(e),s(n.callback_reveal,e,t),s(n.callback_set,e,t))},M=function(e){return!!E&&(e._observer=new IntersectionObserver(function(t){t.forEach(function(t){return function(e){return e.isIntersecting||e.intersectionRatio>0}(t)?function(t,o,e){var n=e._settings;s(n.callback_enter,t,o,e),n.load_delay?A(t,e):c(t,e)}(t.target,t,e):function(e,o,t){var n=t._settings;s(n.callback_exit,e,o,t),n.load_delay&&d(e)}(t.target,t,e)})},{root:(t=e._settings).container===document?null:t.container,rootMargin:t.thresholds||t.threshold+"px"}),!0);var t},F=["IMG","IFRAME"],g=function(t,n){return function(e){return e.filter(function(e){return!f(e)})}((e=t||function(e){return e.container.querySelectorAll(e.elements_selector)}(n),Array.prototype.slice.call(e)));var e},z=function(t){var e=t._settings;_toConsumableArray(e.container.querySelectorAll("."+e.class_error)).forEach(function(t){j(t,e.class_error),function(e){r(e,"was-processed",null)}(t)}),t.update()},l=function(t,s){var e;this._settings=function(e){return _extends({},S,e)}(t),this._loadingCount=0,M(this),this.update(s),e=this,n&&window.addEventListener("online",function(){z(e)})};return l.prototype={update:function(t){var n,s=this,e=this._settings;this._elements=g(t,e),!y&&this._observer?(function(e){return e.use_native&&"loading"in HTMLImageElement.prototype}(e)&&((n=this)._elements.forEach(function(e){-1!==F.indexOf(e.tagName)&&(e.setAttribute("loading","lazy"),o(e,n))}),this._elements=g(t,e)),this._elements.forEach(function(e){s._observer.observe(e)})):this.loadAll()},destroy:function(){var e=this;this._observer&&(this._elements.forEach(function(t){e._observer.unobserve(t)}),this._observer=null),this._elements=null,this._settings=null},load:function(e,t){o(e,this,t)},loadAll:function(){var e=this;this._elements.forEach(function(t){c(t,e)})}},n&&function(t,e){if(e)if(e.length)for(var n,s=0;n=e[s];s+=1)v(t,n);else v(t,e)}(l,window.lazyLoadOptions),l}),document.addEventListener("DOMContentLoaded",function(){new LazyLoad({elements_selector:".lazyload",skip_invisible:!1}),photoswipeSimplify.init({history:!1,bgOpacity:1,zoomEl:!1,shareEl:!1,counterEl:!1,fullscreenEl:!1,closeEl:!1,captionEl:!1,arrowEl:!1,barsSize:{top:44,bottom:44,left:44,right:44}}),params=new URLSearchParams(window.location.search),params.has("session_id")&&fetch(`/api/success?session_id=`+params.get("session_id"),{method:"GET",headers:{'Content-Type':"application/json"}}).then(e=>e.json()).then(e=>{document.querySelector(".thanks").innerText="🎉 Merci pour cet achat, "+e.shipping.name,document.querySelector("#thanksdiv").classList.toggle("hidden")}),form=document.querySelector("#stripe-form"),form&&form.addEventListener("submit",handleFormSubmission)});function handleFormSubmission(e){e.preventDefault(),form=new FormData(e.target),data={price_id:form.get("price_id"),hostname:window.location.hostname,slug:window.location.pathname},fetch(`/api/checkout`,{method:"POST",headers:{'Content-Type':"application/json"},body:JSON.stringify(data)}).then(e=>e.json()).then(e=>{stripe=Stripe(e.publishableKey),stripe.redirectToCheckout({sessionId:e.sessionId})}).then(e=>{e.error()&&console.error(e.error())})}