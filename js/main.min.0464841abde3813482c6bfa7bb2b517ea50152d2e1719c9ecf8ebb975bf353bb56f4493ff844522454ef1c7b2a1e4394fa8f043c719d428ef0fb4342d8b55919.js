/*! PhotoSwipe - v4.1.3 - 2019-01-08
* http://photoswipe.com
* Copyright (c) 2019 Dmitry Semenov; */(function(e,t){typeof define=="function"&&define.amd?define(t):typeof exports=="object"?module.exports=t():e.PhotoSwipe=t()})(this,function(){"use strict";var e=function(e,t,n,s){console.log(e,t,n,s),i={features:null,bind:function(e,t,n,s){var o,i=(s?"remove":"add")+"EventListener";t=t.split(" ");for(o=0;o<t.length;o++)t[o]&&e[i](t[o],n,!1)},isArray:function(e){return e instanceof Array},createEl:function(e,t){var n=document.createElement(t||"div");return e&&(n.className=e),n},getScrollY:function(){var e=window.pageYOffset;return e!==void 0?e:document.documentElement.scrollTop},unbind:function(e,t,n){i.bind(e,t,n,!0)},removeClass:function(e,t){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(e,t){i.hasClass(e,t)||(e.className+=(e.className?" ":"")+t)},hasClass:function(e,t){return e.className&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},getChildByClass:function(e,t){for(var n=e.firstChild;n;){if(i.hasClass(n,t))return n;n=n.nextSibling}},arraySearch:function(e,t,n){for(var s=e.length;s--;)if(e[s][n]===t)return s;return-1},extend:function(e,t,n){for(var s in t)if(t.hasOwnProperty(s)){if(n&&e.hasOwnProperty(s))continue;e[s]=t[s]}},easing:{sine:{out:function(e){return Math.sin(e*(Math.PI/2))},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},cubic:{out:function(e){return--e*e*e+1}}},detectFeatures:function(){if(i.features)return i.features;var n,s,o,a,r,c,l,d,u,h,m,p=i.createEl(),f=p.style,t="",e={};e.oldIE=document.all&&!document.addEventListener,e.touch="ontouchstart"in window,window.requestAnimationFrame&&(e.raf=window.requestAnimationFrame,e.caf=window.cancelAnimationFrame),e.pointerEvent=!!window.PointerEvent||navigator.msPointerEnabled,e.pointerEvent||(u=navigator.userAgent,/iP(hone|od)/.test(navigator.platform)&&(n=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n&&n.length>0&&(n=parseInt(n[1],10),n>=1&&n<8&&(e.isOldIOSPhone=!0))),l=u.match(/Android\s([0-9.]*)/),s=l?l[1]:0,s=parseFloat(s),s>=1&&(s<4.4&&(e.isOldAndroid=!0),e.androidVersion=s),e.isMobileOpera=/opera mini|opera mobi/i.test(u)),m=["transform","perspective","animationName"],h=["","webkit","Moz","ms","O"];for(r=0;r<4;r++){t=h[r];for(a=0;a<3;a++)o=m[a],d=t+(t?o.charAt(0).toUpperCase()+o.slice(1):o),!e[o]&&d in f&&(e[o]=d);t&&!e.raf&&(t=t.toLowerCase(),e.raf=window[t+"RequestAnimationFrame"],e.raf&&(e.caf=window[t+"CancelAnimationFrame"]||window[t+"CancelRequestAnimationFrame"]))}return e.raf||(c=0,e.raf=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-c)),s=window.setTimeout(function(){e(t+n)},n);return c=t+n,s},e.caf=function(e){clearTimeout(e)}),e.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,i.features=e,e}},i.detectFeatures(),i.features.oldIE&&(i.bind=function(e,t,n,s){t=t.split(" ");for(var o,a=(s?"detach":"attach")+"Event",r=function(){n.handleEvent.call(n)},i=0;i<t.length;i++)if(o=t[i],o)if(typeof n=="object"&&n.handleEvent){if(s){if(!n["oldIE"+o])return!1}else n["oldIE"+o]=r;e[a]("on"+o,n["oldIE"+o])}else e[a]("on"+o,n)}),o=this,gt=25,H=3,a={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(e){return e.tagName==="A"},getDoubleTapZoom:function(e,t){return e?1:t.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"},i.extend(a,s);var o,i,a,c,l,u,h,f,v,j,C,A,z,D,N,P,H,I,B,V,K,G,$=function(){return{x:0,y:0}},be,Ut,mt,an,X=$(),ve=$(),r=$(),Oe,tt,b={},oe,ft,dt,ct,He,U=0,he={},k=$(),Yt,M=0,Ie,Be,Le,Ce,je,Je=!0,st=[],et,rt,Xt,Qt,ut,ee,xe={},re=!1,Ft,ke=function(e,t){i.extend(o,t.publicMethods),st.push(e)},Ye=function(e){var t=E();return e>t-1?e-t:e<0?t+e:e},Ae={},m=function(e,t){return Ae[e]||(Ae[e]=[]),Ae[e].push(t)},d=function(e){var t,s,n=Ae[e];if(n){s=Array.prototype.slice.call(arguments),s.shift();for(t=0;t<n.length;t++)n[t].apply(o,s)}},T=function(){return(new Date).getTime()},R=function(e){Pe=e,o.bg.style.opacity=e*a.bgOpacity},un=function(e,t,n,s,i){(!re||i&&i!==o.currItem)&&(s=s/(i?i.fitRatio:o.currItem.fitRatio)),e[je]=ft+t+"px, "+n+"px"+dt+" scale("+s+")"},p=function(e){D&&(e&&(u>o.currItem.fitRatio?re||(J(o.currItem,!1,!0),re=!0):re&&(J(o.currItem),re=!1)),un(D,r.x,r.y,u))},ze=function(e){e.container&&un(e.container.style,e.initialPosition.x,e.initialPosition.y,e.initialZoomLevel,e)},de=function(e,t){t[je]=ft+e+"px, 0px"+dt},Xe=function(e,t){if(!a.loop&&t){var s=l+(k.x*U-e)/k.x,n=Math.round(e-L.x);(s<0&&n>0||s>=E()-1&&n<0)&&(e=L.x+n*a.mainScrollEndFriction)}L.x=e,de(e,an)},Mt=function(e,t){var n=De[e]-he[e];return ve[e]+X[e]+n-n*(t/oe)},O=function(e,t){e.x=t.x,e.y=t.y,t.id&&(e.id=t.id)},ln=function(e){e.x=Math.round(e.x),e.y=Math.round(e.y)},kt=null,Et=function(){kt&&(i.unbind(document,"mousemove",Et),i.addClass(e,"pswp--has_mouse"),a.mouseUsed=!0,d("mouseUsed")),kt=setTimeout(function(){kt=null},100)},Dn=function(){i.bind(document,"keydown",o),h.transform&&i.bind(o.scrollWrap,"click",o),a.mouseUsed||i.bind(document,"mousemove",Et),i.bind(window,"resize scroll orientationchange",o),d("bindEvents")},zn=function(){i.unbind(window,"resize scroll orientationchange",o),i.unbind(window,"scroll",v.scroll),i.unbind(document,"keydown",o),i.unbind(document,"mousemove",Et),h.transform&&i.unbind(o.scrollWrap,"click",o),z&&i.unbind(window,Oe,o),clearTimeout(Ft),d("unbindEvents")},Ct=function(e,t){var n=_e(o.currItem,b,e);return t&&(c=n),n},tn=function(e){return e||(e=o.currItem),e.initialZoomLevel},dn=function(e){return e||(e=o.currItem),e.w>0?a.maxSpreadZoom:1},qt=function(e,t,n,s){return s===o.currItem.initialZoomLevel?(n[e]=o.currItem.initialPosition[e],!0):(n[e]=Mt(e,s),n[e]>t.min[e]?(n[e]=t.min[e],!0):n[e]<t.max[e]&&(n[e]=t.max[e],!0))},Tn=function(){if(je){var t=h.perspective&&!N;ft="translate"+(t?"3d(":"("),dt=h.perspective?", 0px)":")";return}je="left",i.addClass(e,"pswp--ie"),de=function(e,t){t.left=e+"px"},ze=function(e){var n=e.fitRatio>1?1:e.fitRatio,t=e.container.style,s=n*e.w,o=n*e.h;t.width=s+"px",t.height=o+"px",t.left=e.initialPosition.x+"px",t.top=e.initialPosition.y+"px"},p=function(){if(D){var e=D,t=o.currItem,n=t.fitRatio>1?1:t.fitRatio,s=n*t.w,i=n*t.h;e.width=s+"px",e.height=i+"px",e.left=r.x+"px",e.top=r.y+"px"}}},Sn=function(e){var t="";a.escKey&&e.keyCode===27?t="close":a.arrowKeys&&(e.keyCode===37?t="prev":e.keyCode===39&&(t="next")),t&&!e.ctrlKey&&!e.altKey&&!e.shiftKey&&!e.metaKey&&(e.preventDefault?e.preventDefault():e.returnValue=!1,o[t]())},Fn=function(e){if(!e)return;(fe||ne||j||Ee)&&(e.preventDefault(),e.stopPropagation())},en=function(){o.setScrollOffset(0,i.getScrollY())},x={},me=0,Se=function(e){x[e]&&(x[e].raf&&rt(x[e].raf),me--,delete x[e])},bt=function(e){x[e]&&Se(e),x[e]||(me++,x[e]={})},Fe=function(){for(var e in x)x.hasOwnProperty(e)&&Se(e)},Ne=function(e,t,n,s,o,i,a){var r,c,l=T();bt(e),c=function(){if(x[e]){if(r=T()-l,r>=s){Se(e),i(n),a&&a();return}i((n-t)*o(r/s)+t),x[e].raf=et(c)}},c()},Mn={shout:d,listen:m,viewportSize:b,options:a,isMainScrollAnimating:function(){return j},getZoomLevel:function(){return u},getCurrentIndex:function(){return l},isDragging:function(){return z},isZooming:function(){return P},setScrollOffset:function(e,t){he.x=e,ee=he.y=t,d("updateScrollOffset",he)},applyZoomPan:function(e,t,n,s){r.x=t,r.y=n,u=e,p(s)},init:function(){if(be||Ut)return;o.framework=i,o.template=e,o.bg=i.getChildByClass(e,"pswp__bg"),Xt=e.className,be=!0,h=i.detectFeatures(),et=h.raf,rt=h.caf,je=h.transform,ut=h.oldIE,o.scrollWrap=i.getChildByClass(e,"pswp__scroll-wrap"),o.container=i.getChildByClass(o.scrollWrap,"pswp__container"),an=o.container.style,o.itemHolders=f=[{el:o.container.children[0],wrap:0,index:-1},{el:o.container.children[1],wrap:0,index:-1},{el:o.container.children[2],wrap:0,index:-1}],f[0].el.style.display=f[2].el.style.display="none",Tn(),v={resize:o.updateSize,orientationchange:function(){clearTimeout(Ft),Ft=setTimeout(function(){b.x!==o.scrollWrap.clientWidth&&o.updateSize()},500)},scroll:en,keydown:Sn,click:Fn};var n,s,r,c=h.isOldIOSPhone||h.isOldAndroid||h.isMobileOpera;(!h.animationName||!h.transform||c)&&(a.showAnimationDuration=a.hideAnimationDuration=0);for(n=0;n<st.length;n++)o["init"+st[n]]();t&&(r=o.ui=new t(o,i),r.init()),d("firstUpdate"),l=l||a.index||0,(isNaN(l)||l<0||l>=E())&&(l=0),o.currItem=Y(l),(h.isOldIOSPhone||h.isOldAndroid)&&(Je=!1),e.setAttribute("aria-hidden","false"),a.modal&&(Je?e.style.position="fixed":(e.style.position="absolute",e.style.top=i.getScrollY()+"px")),ee===void 0&&(d("initialLayout"),ee=Qt=i.getScrollY()),s="pswp--open ",a.mainClass&&(s+=a.mainClass+" "),a.showHideOpacity&&(s+="pswp--animate_opacity "),s+=N?"pswp--touch":"pswp--notouch",s+=h.animationName?" pswp--css_animation":"",s+=h.svg?" pswp--svg":"",i.addClass(e,s),o.updateSize(),I=-1,M=null;for(n=0;n<H;n++)de((n+I)*k.x,f[n].el.style);ut||i.bind(o.scrollWrap,tt,o),m("initialZoomInEnd",function(){o.setContent(f[0],l-1),o.setContent(f[2],l+1),f[0].el.style.display=f[2].el.style.display="block",a.focus&&e.focus(),Dn()}),o.setContent(f[1],l),o.updateCurrItem(),d("afterInit"),Je||(ct=setInterval(function(){!me&&!z&&!P&&u===o.currItem.initialZoomLevel&&o.updateSize()},1e3)),i.addClass(e,"pswp--visible")},close:function(){if(!be)return;be=!1,Ut=!0,d("close"),zn(),Rt(o.currItem,null,!0,o.destroy)},destroy:function(){d("destroy"),ie&&clearTimeout(ie),e.setAttribute("aria-hidden","true"),e.className=Xt,ct&&clearInterval(ct),i.unbind(o.scrollWrap,tt,o),i.unbind(window,"scroll",o),xt(),Fe(),Ae=null},panTo:function(e,t,n){n||(e>c.min.x?e=c.min.x:e<c.max.x&&(e=c.max.x),t>c.min.y?t=c.min.y:t<c.max.y&&(t=c.max.y)),r.x=e,r.y=t,p()},handleEvent:function(e){e=e||window.event,v[e.type]&&v[e.type](e)},goTo:function(e){e=Ye(e);var t=e-l;M=t,l=e,o.currItem=Y(l),U-=t,Xe(k.x*U),Fe(),j=!1,o.updateCurrItem()},next:function(){o.goTo(l+1)},prev:function(){o.goTo(l-1)},updateCurrZoomItem:function(e){if(e&&d("beforeChange",0),f[1].el.children.length){var t=f[1].el.children[0];i.hasClass(t,"pswp__zoom-wrap")?D=t.style:D=null}else D=null;c=o.currItem.bounds,oe=u=o.currItem.initialZoomLevel,r.x=c.center.x,r.y=c.center.y,e&&d("afterChange")},invalidateCurrItems:function(){He=!0;for(var e=0;e<H;e++)f[e].item&&(f[e].item.needsUpdate=!0)},updateCurrItem:function(e){if(M===0)return;var t,s,i,n=Math.abs(M);if(e&&n<2)return;o.currItem=Y(l),re=!1,d("beforeChange",M),n>=H&&(I+=M+(M>0?-H:H),n=H);for(s=0;s<n;s++)M>0?(t=f.shift(),f[H-1]=t,I++,de((I+2)*k.x,t.el.style),o.setContent(t,l-n+s+1+1)):(t=f.pop(),f.unshift(t),I--,de(I*k.x,t.el.style),o.setContent(t,l+n-s-1-1));D&&Math.abs(M)===1&&(i=Y(Yt),i.initialZoomLevel!==u&&(_e(i,b),J(i),ze(i))),M=0,o.updateCurrZoomItem(),Yt=l,d("afterChange")},updateSize:function(t){if(!Je&&a.modal){var n,s,h,m,g=i.getScrollY();if(ee!==g&&(e.style.top=g+"px",ee=g),!t&&xe.x===window.innerWidth&&xe.y===window.innerHeight)return;xe.x=window.innerWidth,xe.y=window.innerHeight,e.style.height=xe.y+"px"}if(b.x=o.scrollWrap.clientWidth,b.y=o.scrollWrap.clientHeight,en(),k.x=b.x+Math.round(b.x*a.spacing),k.y=b.y,Xe(k.x*U),d("beforeResize"),I!==void 0){for(h=0;h<H;h++)m=f[h],de((h+I)*k.x,m.el.style),s=l+h-1,a.loop&&E()>2&&(s=Ye(s)),n=Y(s),n&&(He||n.needsUpdate||!n.bounds)?(o.cleanSlide(n),o.setContent(m,s),h===1&&(o.currItem=n,o.updateCurrZoomItem(!0)),n.needsUpdate=!1):m.index===-1&&s>=0&&o.setContent(m,s),n&&n.container&&(_e(n,b),J(n),ze(n));He=!1}oe=u=o.currItem.initialZoomLevel,c=o.currItem.bounds,c&&(r.x=c.center.x,r.y=c.center.y,p(!0)),d("resize")},zoomTo:function(e,t,n,s,o){t&&(oe=u,De.x=Math.abs(t.x)-r.x,De.y=Math.abs(t.y)-r.y,O(ve,r));var c,l,d,h=Ct(e,!1),a={};qt("x",h,a,e),qt("y",h,a,e),l=u,c={x:r.x,y:r.y},ln(a),d=function(t){t===1?(u=e,r.x=a.x,r.y=a.y):(u=(e-l)*t+l,r.x=(a.x-c.x)*t+c.x,r.y=(a.y-c.y)*t+c.y),o&&o(t),p(t===1)},n?Ne("customZoomTo",0,1,n,s||i.easing.sine.inOut,d):d(1)}},Jt=30,pt=10,gt,Zt,Ke,_={},Z={},w={},y={},le={},q=[],te={},Me,ae=[],pe={},at,Ee,Te,Qe=0,Ze=$(),it=0,ot,ne,fe,$e,Gt,Kt,L=$(),De=$(),ce=$(),vt,Ue,Pe,Re,xn=function(e,t){return e.x===t.x&&e.y===t.y},An=function(e,t){return Math.abs(e.x-t.x)<gt&&Math.abs(e.y-t.y)<gt},$t=function(e,t){return pe.x=Math.abs(e.x-t.x),pe.y=Math.abs(e.y-t.y),Math.sqrt(pe.x*pe.x+pe.y*pe.y)},xt=function(){$e&&(rt($e),$e=null)},Bt=function(){z&&($e=et(Bt),_n())},kn=function(){return a.scaleMode!=="fit"||u!==o.currItem.initialZoomLevel},It=function(e,t){return!!e&&e!==document&&!(e.getAttribute("class")&&e.getAttribute("class").indexOf("pswp__scroll-wrap")>-1)&&(t(e)?e:It(e.parentNode,t))},At={},Pt=function(e,t){return At.prevent=!It(e.target,a.isClickableElement),d("preventDragEvent",e,t,At),At.prevent},Lt=function(e,t){return t.x=e.pageX,t.y=e.pageY,t.id=e.identifier,t},Dt=function(e,t,n){n.x=(e.x+t.x)*.5,n.y=(e.y+t.y)*.5},En=function(e,t,n){if(e-Ke>50){var s=ae.length>2?ae.shift():{};s.x=t,s.y=n,ae.push(s),Ke=e}},zt=function(){var e=r.y-o.currItem.initialPosition.y;return 1-Math.abs(e/(b.y/2))},ye={},Cn={},Q=[],qe,St=function(e){for(;Q.length>0;)Q.pop();return B?(qe=0,q.forEach(function(e){qe===0?Q[0]=e:qe===1&&(Q[1]=e),qe++})):e.type.indexOf("touch")>-1?e.touches&&e.touches.length>0&&(Q[0]=Lt(e.touches[0],ye),e.touches.length>1&&(Q[1]=Lt(e.touches[1],Cn))):(ye.x=e.pageX,ye.y=e.pageY,ye.id="",Q[0]=ye),Q},Ht=function(e,t){var s,i,d,h,f=0,n=r[e]+t[e],p=t[e]>0,l=L.x+t.x,m=L.x-te.x;if(n>c.min[e]||n<c.max[e]?i=a.panEndFriction:i=1,n=r[e]+t[e]*i,(a.allowPanToNext||u===o.currItem.initialZoomLevel)&&(D?K==="h"&&e==="x"&&!ne&&(p?(n>c.min[e]&&(i=a.panEndFriction,f=c.min[e]-n,h=c.min[e]-ve[e]),(h<=0||m<0)&&E()>1?(s=l,m<0&&l>te.x&&(s=te.x)):c.min.x!==c.max.x&&(d=n)):(n<c.max[e]&&(i=a.panEndFriction,f=n-c.max[e],h=ve[e]-c.max[e]),(h<=0||m>0)&&E()>1?(s=l,m>0&&l<te.x&&(s=te.x)):c.min.x!==c.max.x&&(d=n))):s=l,e==="x"))return s!==void 0&&(Xe(s,!0),s===te.x?V=!1:V=!0),c.min.x!==c.max.x&&(d!==void 0?r.x=d:V||(r.x+=t.x*i)),s!==void 0;j||V||u>o.currItem.fitRatio&&(r[e]+=t[e]*i)},On=function(e){if(e.type==="mousedown"&&e.button>0)return;if(ue){e.preventDefault();return}if(Te&&e.type==="mousedown")return;Pt(e,!0)&&e.preventDefault(),d("pointerDown"),B&&(n=i.arraySearch(q,e.pointerId,"id"),n<0&&(n=q.length),q[n]={x:e.pageX,y:e.pageY,id:e.pointerId});var n,t=St(e),s=t.length;A=null,Fe(),(!z||s===1)&&(z=vt=!0,i.bind(window,Oe,o),at=Re=Ue=Ee=V=fe=ot=ne=!1,K=null,d("firstTouchStart",t),O(ve,r),X.x=X.y=0,O(y,t[0]),O(le,y),te.x=k.x*U,ae=[{x:y.x,y:y.y}],Ke=Zt=T(),Ct(u,!0),xt(),Bt()),!P&&s>1&&!j&&!V&&(oe=u,ne=!1,P=ot=!0,X.y=X.x=0,O(ve,r),O(_,t[0]),O(Z,t[1]),Dt(_,Z,ce),De.x=Math.abs(ce.x)-r.x,De.y=Math.abs(ce.y)-r.y,Gt=Kt=$t(_,Z))},wn=function(e){if(e.preventDefault(),B){var t,n,s,o=i.arraySearch(q,e.pointerId,"id");o>-1&&(n=q[o],n.x=e.pageX,n.y=e.pageY)}z&&(t=St(e),!K&&!fe&&!P?L.x!==k.x*U?K="h":(s=Math.abs(t[0].x-y.x)-Math.abs(t[0].y-y.y),Math.abs(s)>=pt&&(K=s>0?"h":"v",A=t)):A=t)},_n=function(){if(!A)return;if(s=A.length,s===0)return;if(O(_,A[0]),w.x=_.x-y.x,w.y=_.y-y.y,P&&s>1){if(y.x=_.x,y.y=_.y,!w.x&&!w.y&&xn(A[1],Z))return;O(Z,A[1]),ne||(ne=!0,d("zoomGestureStarted")),i=$t(_,Z),e=gn(i),e>o.currItem.initialZoomLevel+o.currItem.initialZoomLevel/15&&(Re=!0);var e,s,i,h,m,f,g,t=1,n=tn(),l=dn();e<n?a.pinchToClose&&!Re&&oe<=o.currItem.initialZoomLevel?(f=n-e,h=1-f/(n/1.2),R(h),d("onPinchClose",h),Ue=!0):(t=(n-e)/n,t>1&&(t=1),e=n-t*(n/3)):e>l&&(t=(e-l)/(n*6),t>1&&(t=1),e=l+t*n),t<0&&(t=0),Gt=i,Dt(_,Z,Ze),X.x+=Ze.x-ce.x,X.y+=Ze.y-ce.y,O(ce,Ze),r.x=Mt("x",e),r.y=Mt("y",e),at=e>u,u=e,p()}else{if(!K)return;if(vt&&(vt=!1,Math.abs(w.x)>=pt&&(w.x-=A[0].x-le.x),Math.abs(w.y)>=pt&&(w.y-=A[0].y-le.y)),y.x=_.x,y.y=_.y,w.x===0&&w.y===0)return;if(K==="v"&&a.closeOnVerticalDrag&&!kn()){X.y+=w.y,r.y+=w.y,m=zt(),Ee=!0,d("onVerticalDrag",m),R(m),p();return}En(T(),_.x,_.y),fe=!0,c=o.currItem.bounds,g=Ht("x",w),g||(Ht("y",w),ln(r),p())}},yn=function(e){if(h.isOldAndroid){if(Te&&e.type==="mouseup")return;e.type.indexOf("touch")>-1&&(clearTimeout(Te),Te=setTimeout(function(){Te=0},600))}d("pointerUp"),Pt(e,!1)&&e.preventDefault(),B&&(l=i.arraySearch(q,e.pointerId,"id"),l>-1&&(t=q.splice(l,1)[0],navigator.msPointerEnabled?(v={4:"mouse",2:"touch",3:"pen"},t.type=v[e.pointerType],t.type||(t.type=e.pointerType||"mouse")):t.type=e.pointerType||"mouse"));var t,s,c,l,m,f,g,v,y,b=St(e),n=b.length;if(e.type==="mouseup"&&(n=0),n===2)return A=null,!0;if(n===1&&O(le,b[0]),n===0&&!K&&!j&&(t||(e.type==="mouseup"?t={x:e.pageX,y:e.pageY,type:"mouse"}:e.changedTouches&&e.changedTouches[0]&&(t={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY,type:"touch"})),d("touchRelease",e,t)),c=-1,n===0&&(z=!1,i.unbind(window,Oe,o),xt(),P?c=0:it!==-1&&(c=T()-it)),it=n===1?T():-1,c!==-1&&c<150?s="zoom":s="swipe",P&&n<2&&(P=!1,n===1&&(s="zoomPointerUp"),d("zoomGestureEnded")),A=null,!fe&&!ne&&!j&&!Ee)return;if(Fe(),Me||(Me=jn()),Me.calculateSwipeSpeed("x"),Ee){g=zt(),g<a.verticalDragRange?o.close():(m=r.y,f=Pe,Ne("verticalDrag",0,1,300,i.easing.cubic.out,function(e){r.y=(o.currItem.initialPosition.y-m)*e+m,R((1-f)*e+f),p()}),d("onVerticalDrag",1));return}if((V||j)&&n===0){if(y=vn(s,Me),y)return;s="zoomPointerUp"}if(j)return;if(s!=="swipe"){pn();return}!V&&u>o.currItem.fitRatio&&bn(Me)},jn=function(){var t,n,e={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(s){ae.length>1?(t=T()-Ke+50,n=ae[ae.length-2][s]):(t=T()-Zt,n=le[s]),e.lastFlickOffset[s]=y[s]-n,e.lastFlickDist[s]=Math.abs(e.lastFlickOffset[s]),e.lastFlickDist[s]>20?e.lastFlickSpeed[s]=e.lastFlickOffset[s]/t:e.lastFlickSpeed[s]=0,Math.abs(e.lastFlickSpeed[s])<.1&&(e.lastFlickSpeed[s]=0),e.slowDownRatio[s]=.95,e.slowDownRatioReverse[s]=1-e.slowDownRatio[s],e.speedDecelerationRatio[s]=1},calculateOverBoundsAnimOffset:function(t,n){e.backAnimStarted[t]||(r[t]>c.min[t]?e.backAnimDestination[t]=c.min[t]:r[t]<c.max[t]&&(e.backAnimDestination[t]=c.max[t]),e.backAnimDestination[t]!==void 0&&(e.slowDownRatio[t]=.7,e.slowDownRatioReverse[t]=1-e.slowDownRatio[t],e.speedDecelerationRatioAbs[t]<.05&&(e.lastFlickSpeed[t]=0,e.backAnimStarted[t]=!0,Ne("bounceZoomPan"+t,r[t],e.backAnimDestination[t],n||300,i.easing.sine.out,function(e){r[t]=e,p()}))))},calculateAnimOffset:function(t){e.backAnimStarted[t]||(e.speedDecelerationRatio[t]=e.speedDecelerationRatio[t]*(e.slowDownRatio[t]+e.slowDownRatioReverse[t]-e.slowDownRatioReverse[t]*e.timeDiff/10),e.speedDecelerationRatioAbs[t]=Math.abs(e.lastFlickSpeed[t]*e.speedDecelerationRatio[t]),e.distanceOffset[t]=e.lastFlickSpeed[t]*e.speedDecelerationRatio[t]*e.timeDiff,r[t]+=e.distanceOffset[t])},panAnimLoop:function(){if(x.zoomPan&&(x.zoomPan.raf=et(e.panAnimLoop),e.now=T(),e.timeDiff=e.now-e.lastNow,e.lastNow=e.now,e.calculateAnimOffset("x"),e.calculateAnimOffset("y"),p(),e.calculateOverBoundsAnimOffset("x"),e.calculateOverBoundsAnimOffset("y"),e.speedDecelerationRatioAbs.x<.05&&e.speedDecelerationRatioAbs.y<.05)){r.x=Math.round(r.x),r.y=Math.round(r.y),p(),Se("zoomPan");return}}};return e},bn=function(e){if(e.calculateSwipeSpeed("y"),c=o.currItem.bounds,e.backAnimDestination={},e.backAnimStarted={},Math.abs(e.lastFlickSpeed.x)<=.05&&Math.abs(e.lastFlickSpeed.y)<=.05)return e.speedDecelerationRatioAbs.x=e.speedDecelerationRatioAbs.y=0,e.calculateOverBoundsAnimOffset("x"),e.calculateOverBoundsAnimOffset("y"),!0;bt("zoomPan"),e.lastNow=T(),e.panAnimLoop()},vn=function(e,t){if(j||(Qe=l),e==="swipe"){var n,s,r,c,u,f,h=y.x-le.x,m=t.lastFlickDist.x<10;h>Jt&&(m||t.lastFlickOffset.x>20)?r=-1:h<-Jt&&(m||t.lastFlickOffset.x<-20)&&(r=1)}return r&&(l+=r,l<0?(l=a.loop?E()-1:0,u=!0):l>=E()&&(l=a.loop?0:E()-1,u=!0),(!u||a.loop)&&(M+=r,U-=r,s=!0)),c=k.x*U,f=Math.abs(c-L.x),!s&&c>L.x!==t.lastFlickSpeed.x>0?n=333:(n=Math.abs(t.lastFlickSpeed.x)>0?f/Math.abs(t.lastFlickSpeed.x):333,n=Math.min(n,400),n=Math.max(n,250)),Qe===l&&(s=!1),j=!0,d("mainScrollAnimStart"),Ne("mainScroll",L.x,c,n,i.easing.cubic.out,Xe,function(){Fe(),j=!1,Qe=-1,(s||Qe!==l)&&o.updateCurrItem(),d("mainScrollAnimComplete")}),s&&o.updateCurrItem(!0),s},gn=function(e){return 1/Kt*e*oe},pn=function(){var n,a,r,e=u,t=tn(),s=dn();return u<t?e=t:u>s&&(e=s),a=1,n=Pe,Ue&&!at&&!Re&&u<t?(o.close(),!0):(Ue&&(r=function(e){R((a-n)*e+n)}),o.zoomTo(e,0,200,i.easing.cubic.out,r),!0)},ie,Ve,nt;ke("Gestures",{publicMethods:{initGestures:function(){var e=function(e,t,n,s,o){Ie=e+t,Be=e+n,Le=e+s,o?Ce=e+o:Ce=""};B=h.pointerEvent,B&&h.touch&&(h.touch=!1),B?navigator.msPointerEnabled?e("MSPointer","Down","Move","Up","Cancel"):e("pointer","down","move","up","cancel"):h.touch?(e("touch","start","move","end","cancel"),N=!0):e("mouse","down","move","up"),Oe=Be+" "+Le+" "+Ce,tt=Ie,B&&!N&&(N=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),o.likelyTouchDevice=N,v[Ie]=On,v[Be]=wn,v[Le]=yn,Ce&&(v[Ce]=v[Le]),h.touch&&(tt+=" mousedown",Oe+=" mousemove mouseup",v.mousedown=v[Ie],v.mousemove=v[Be],v.mouseup=v[Le]),N||(a.allowPanToNext=!1)}}});var E,W,Y,Rt=function(t,n,s,c){ie&&clearTimeout(ie),ue=!0,jt=!0,t.initialLayout?(h=t.initialLayout,t.initialLayout=null):h=a.getThumbBoundsFn&&a.getThumbBoundsFn(l);var h,g,m=s?a.hideAnimationDuration:a.showAnimationDuration,f=function(){Se("initialZoom"),s?(o.template.removeAttribute("style"),o.bg.removeAttribute("style")):(R(1),n&&(n.style.display="block"),i.addClass(e,"pswp--animated-in"),d("initialZoom"+(s?"OutEnd":"InEnd"))),c&&c(),ue=!1};if(!m||!h||h.x===void 0){d("initialZoom"+(s?"Out":"In")),u=t.initialZoomLevel,O(r,t.initialPosition),p(),e.style.opacity=s?0:1,R(1),m?setTimeout(function(){f()},m):f();return}g=function(){var c=mt,n=!o.currItem.src||o.currItem.loadError||a.showHideOpacity;t.miniImg&&(t.miniImg.style.webkitBackfaceVisibility="hidden"),s||(u=h.w/t.w,r.x=h.x,r.y=h.y-Qt,o[n?"template":"bg"].style.opacity=.001,p()),bt("initialZoom"),s&&!c&&i.removeClass(e,"pswp--animated-in"),n&&(s?i[(c?"remove":"add")+"Class"](e,"pswp--animate_opacity"):setTimeout(function(){i.addClass(e,"pswp--animate_opacity")},30)),ie=setTimeout(function(){if(d("initialZoom"+(s?"Out":"In")),s){var a=h.w/t.w,o={x:r.x,y:r.y},l=u,g=Pe,v=function(t){t===1?(u=a,r.x=h.x,r.y=h.y-ee):(u=(a-l)*t+l,r.x=(h.x-o.x)*t+o.x,r.y=(h.y-ee-o.y)*t+o.y),p(),n?e.style.opacity=1-t:R(g-t*g)};c?Ne("initialZoom",0,1,m,i.easing.cubic.out,v,f):(v(1),ie=setTimeout(f,m+20))}else u=t.initialZoomLevel,O(r,t.initialPosition),p(),R(1),n?e.style.opacity=1:R(1),ie=setTimeout(f,m+20)},s?25:90)},g()},ie,S={},se=[],jt,ue,fn={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return W.length}},mn,rn=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},hn=function(e,t,n){var s=e.bounds;s.center.x=Math.round((S.x-t)/2),s.center.y=Math.round((S.y-n)/2)+e.vGap.top,s.max.x=t>S.x?Math.round(S.x-t):s.center.x,s.max.y=n>S.y?Math.round(S.y-n)+e.vGap.top:s.center.y,s.min.x=t>S.x?0:s.center.x,s.min.y=n>S.y?e.vGap.top:s.center.y},_e=function(e,t,n){if(e.src&&!e.loadError){var o,i,r,s=!n;if(s&&(e.vGap||(e.vGap={top:0,bottom:0}),d("parseVerticalMargin",e)),S.x=t.x,S.y=t.y-e.vGap.top-e.vGap.bottom,s&&(o=S.x/e.w,i=S.y/e.h,e.fitRatio=o<i?o:i,r=a.scaleMode,r==="orig"?n=1:r==="fit"&&(n=e.fitRatio),n>1&&(n=1),e.initialZoomLevel=n,e.bounds||(e.bounds=rn())),!n)return;return hn(e,e.w*n,e.h*n),s&&n===e.initialZoomLevel&&(e.initialPosition=e.bounds.center),e.bounds}return e.w=e.h=0,e.initialZoomLevel=e.fitRatio=1,e.bounds=rn(),e.initialPosition=e.bounds.center,e.bounds},We=function(e,t,n,s,i,a){if(t.loadError)return;s&&(t.imageAppended=!0,J(t,s,t===o.currItem&&re),n.appendChild(s),a&&setTimeout(function(){t&&t.loaded&&t.placeholder&&(t.placeholder.style.display="none",t.placeholder=null)},500))},Wt=function(e){e.loading=!0,e.loaded=!1;var t=e.img=i.createEl("pswp__img","img"),n=function(){e.loading=!1,e.loaded=!0,e.loadComplete?e.loadComplete(e):e.img=null,t.onload=t.onerror=null,t=null};return t.onload=n,t.onerror=function(){e.loadError=!0,n()},t.src=e.src,t},cn=function(e,t){if(e.src&&e.loadError&&e.container)return t&&(e.container.innerHTML=""),e.container.innerHTML=a.errorMsg.replace("%url%",e.src),!0},J=function(e,t,n){if(!e.src)return;t||(t=e.container.lastChild);var s=n?e.w:Math.round(e.w*e.fitRatio),o=n?e.h:Math.round(e.h*e.fitRatio);e.placeholder&&!e.loaded&&(e.placeholder.style.width=s+"px",e.placeholder.style.height=o+"px"),t.style.width=s+"px",t.style.height=o+"px"},nn=function(){if(se.length){for(var e,t=0;t<se.length;t++)e=se[t],e.holder.index===e.index&&We(e.index,e.item,e.baseDiv,e.img,!1,e.clearPlaceholder);se=[]}};ke("Controller",{publicMethods:{lazyLoadItem:function(e){e=Ye(e);var t=Y(e);if(!t||(t.loaded||t.loading)&&!He)return;if(d("gettingData",e,t),!t.src)return;Wt(t)},initController:function(){i.extend(a,fn,!0),o.items=W=n,Y=o.getItemAt,E=a.getNumItemsFn,mn=a.loop,E()<3&&(a.loop=!1),m("beforeChange",function(e){var t,n=a.preload,s=e===null||e>=0,i=Math.min(n[0],E()),r=Math.min(n[1],E());for(t=1;t<=(s?r:i);t++)o.lazyLoadItem(l+t);for(t=1;t<=(s?i:r);t++)o.lazyLoadItem(l-t)}),m("initialLayout",function(){o.currItem.initialLayout=a.getThumbBoundsFn&&a.getThumbBoundsFn(l)}),m("mainScrollAnimComplete",nn),m("initialZoomInEnd",nn),m("destroy",function(){for(var e,t=0;t<W.length;t++)e=W[t],e.container&&(e.container=null),e.placeholder&&(e.placeholder=null),e.img&&(e.img=null),e.preloader&&(e.preloader=null),e.loadError&&(e.loaded=e.loadError=!1);se=null})},getItemAt:function(e){return e>=0&&W[e]!==void 0&&W[e]},allowProgressiveImg:function(){return a.forceProgressiveLoading||!N||a.mouseUsed||screen.width>1200},setContent:function(e,t){a.loop&&(t=Ye(t));var n,s,r,c,u,m=o.getItemAt(e.index);if(m&&(m.container=null),n=o.getItemAt(t),!n){e.el.innerHTML="";return}d("gettingData",t,n),e.index=t,e.item=n,s=n.container=i.createEl("pswp__zoom-wrap"),!n.src&&n.html&&(n.html.tagName?s.appendChild(n.html):s.innerHTML=n.html),cn(n),_e(n,b),n.src&&!n.loadError&&!n.loaded?(n.loadComplete=function(n){if(!be)return;if(e&&e.index===t){if(cn(n,!0)){n.loadComplete=n.img=null,_e(n,b),ze(n),e.index===l&&o.updateCurrZoomItem();return}n.imageAppended?!ue&&n.placeholder&&(n.placeholder.style.display="none",n.placeholder=null):h.transform&&(j||ue)?se.push({item:n,baseDiv:s,img:n.img,index:t,holder:e,clearPlaceholder:!0}):We(t,n,s,n.img,j||ue,!0)}n.loadComplete=null,n.img=null,d("imageLoadComplete",t,n)},i.features.transform&&(u="pswp__img pswp__img--placeholder",u+=n.msrc?"":" pswp__img--placeholder--blank",c=i.createEl(u,n.msrc?"img":""),n.msrc&&(c.src=n.msrc),J(n,c),s.appendChild(c),n.placeholder=c),n.loading||Wt(n),o.allowProgressiveImg()&&(!jt&&h.transform?se.push({item:n,baseDiv:s,img:n.img,index:t,holder:e}):We(t,n,s,n.img,!0,!0))):n.src&&!n.loadError&&(r=i.createEl("pswp__img","img"),r.style.opacity=1,r.src=n.src,J(n,r),We(t,n,s,r,!0)),!jt&&t===l?(D=s.style,Rt(n,r||n.img)):ze(n),e.el.innerHTML="",e.el.appendChild(s)},cleanSlide:function(e){e.img&&(e.img.onload=e.img.onerror=null),e.loaded=e.loading=e.img=e.imageAppended=!1}}}),Ve={},nt=function(e,t,n){var s=document.createEvent("CustomEvent"),o={origEvent:e,target:e.target,releasePoint:t,pointerType:n||"touch"};s.initCustomEvent("pswpTap",!0,!0,o),e.target.dispatchEvent(s)},ke("Tap",{publicMethods:{initTap:function(){m("firstTouchStart",o.onTapStart),m("touchRelease",o.onTapRelease),m("destroy",function(){Ve={},G=null})},onTapStart:function(e){e.length>1&&(clearTimeout(G),G=null)},onTapRelease:function(e,t){if(!t)return;if(!fe&&!ot&&!me){var s,n=t;if(G&&(clearTimeout(G),G=null,An(n,Ve))){d("doubleTap",n);return}if(t.type==="mouse"){nt(e,t,"mouse");return}if(s=e.target.tagName.toUpperCase(),s==="BUTTON"||i.hasClass(e.target,"pswp__single-tap")){nt(e,t);return}O(Ve,n),G=setTimeout(function(){nt(e,t),G=null},300)}}}}),ke("DesktopZoom",{publicMethods:{initDesktopZoom:function(){if(ut)return;N?m("mouseUsed",function(){o.setupDesktopZoom()}):o.setupDesktopZoom(!0)},setupDesktopZoom:function(t){C={},n="wheel mousewheel DOMMouseScroll",m("bindEvents",function(){i.bind(e,n,o.handleMouseWheel)}),m("unbindEvents",function(){C&&i.unbind(e,n,o.handleMouseWheel)}),o.mouseZoomedIn=!1;var n,s,a=function(){o.mouseZoomedIn&&(i.removeClass(e,"pswp--zoomed-in"),o.mouseZoomedIn=!1),u<1?i.addClass(e,"pswp--zoom-allowed"):i.removeClass(e,"pswp--zoom-allowed"),r()},r=function(){s&&(i.removeClass(e,"pswp--dragging"),s=!1)};m("resize",a),m("afterChange",a),m("pointerDown",function(){o.mouseZoomedIn&&(s=!0,i.addClass(e,"pswp--dragging"))}),m("pointerUp",r),t||a()},handleMouseWheel:function(e){if(u<=o.currItem.fitRatio)return a.modal&&(!a.closeOnScroll||me||z?e.preventDefault():je&&Math.abs(e.deltaY)>2&&(mt=!0,o.close())),!0;if(e.stopPropagation(),C.x=0,"deltaX"in e)e.deltaMode===1?(C.x=e.deltaX*18,C.y=e.deltaY*18):(C.x=e.deltaX,C.y=e.deltaY);else if("wheelDelta"in e)e.wheelDeltaX&&(C.x=-.16*e.wheelDeltaX),e.wheelDeltaY?C.y=-.16*e.wheelDeltaY:C.y=-.16*e.wheelDelta;else if("detail"in e)C.y=e.detail;else return;Ct(u,!0);var t=r.x-C.x,n=r.y-C.y;(a.modal||t<=c.min.x&&t>=c.max.x&&n<=c.min.y&&n>=c.max.y)&&e.preventDefault(),o.panTo(t,n)},toggleDesktopZoom:function(t){t=t||{x:b.x/2+he.x,y:b.y/2+he.y};var s=a.getDoubleTapZoom(!0,o.currItem),n=u===s;o.mouseZoomedIn=!n,o.zoomTo(n?o.currItem.initialZoomLevel:s,t,333),i[(n?"remove":"add")+"Class"](e,"pswp--zoomed-in")}}});var g,F,Nn={history:!0,galleryUID:1},Ot,Vt,we,Ge,Tt,Nt,ge,lt,ht,yt,_t=function(){return F.hash.substring(1)},sn=function(){Ot&&clearTimeout(Ot),we&&clearTimeout(we)},on=function(){var t,n,s,i,o=_t(),e={};if(o.length<5)return e;n=o.split("&");for(t=0;t<n.length;t++){if(!n[t])continue;if(s=n[t].split("="),s.length<2)continue;e[s[0]]=s[1]}if(a.galleryPIDs){{i=e.pid,e.pid=0;for(t=0;t<W.length;t++)if(W[t].pid===i){e.pid=t;break}}}else e.pid=parseInt(e.pid,10)-1;return e.pid<0&&(e.pid=0),e},wt=function(){if(we&&clearTimeout(we),me||z){we=setTimeout(wt,500);return}Ge?clearTimeout(Vt):Ge=!0;var e,t,n=l+1,s=Y(l);s.hasOwnProperty("pid")&&(n=s.pid),e=g+"&gid="+a.galleryUID+"&pid="+n,ge||F.hash.indexOf(e)===-1&&(ht=!0),t=F.href.split("#")[0]+"#"+e,yt?"#"+e!==window.location.hash&&history[ge?"replaceState":"pushState"]("",document.title,t):ge?F.replace(t):F.hash=e,ge=!0,Vt=setTimeout(function(){Ge=!1},60)};ke("History",{publicMethods:{initHistory:function(){if(i.extend(a,Nn,!0),!a.history)return;F=window.location,ht=!1,lt=!1,ge=!1,g=_t(),yt="pushState"in history,g.indexOf("gid=")>-1&&(g=g.split("&gid=")[0],g=g.split("?gid=")[0]),m("afterChange",o.updateURL),m("unbindEvents",function(){i.unbind(window,"hashchange",o.onHashChange)});var e,t=function(){Nt=!0,lt||(ht?history.back():g?F.hash=g:yt?history.pushState("",document.title,F.pathname+F.search):F.hash=""),sn()};m("unbindEvents",function(){mt&&t()}),m("destroy",function(){Nt||t()}),m("firstUpdate",function(){l=on().pid}),e=g.indexOf("pid="),e>-1&&(g=g.substring(0,e),g.slice(-1)==="&"&&(g=g.slice(0,-1))),setTimeout(function(){be&&i.bind(window,"hashchange",o.onHashChange)},40)},onHashChange:function(){if(_t()===g){lt=!0,o.close();return}Ge||(Tt=!0,o.goTo(on().pid),Tt=!1)},updateURL:function(){if(sn(),Tt)return;ge?Ot=setTimeout(wt,800):wt()}}}),i.extend(o,Mn)};return e}),function(e,t){typeof define=="function"&&define.amd?define(t):typeof exports=="object"?module.exports=t():e.PhotoSwipeUI_Default=t()}(this,function(){"use strict";var e=function(e,t){var n,o,i,a,l,d,m,p,b,y,w,x,C,E,F,T,z,D,U,s=this,_=!1,c=!0,r=!0,I={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(e,t){return e.title?(t.children[0].innerHTML=e.title,!0):(t.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return e.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return e.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},S=function(e){if(p)return!0;e=e||window.event,n.timeToIdle&&n.mouseUsed&&!y&&v();for(var s,i,a,r=e.target||e.srcElement,c=r.getAttribute("class")||"",o=0;o<f.length;o++)s=f[o],s.onTap&&c.indexOf("pswp__"+s.name)>-1&&(s.onTap(),i=!0);i&&(e.stopPropagation&&e.stopPropagation(),p=!0,a=t.features.isOldAndroid?600:30,U=setTimeout(function(){p=!1},a))},W=function(){return!e.likelyTouchDevice||n.mouseUsed||screen.width>n.fitControlsWidth},u=function(e,n,s){t[(s?"add":"remove")+"Class"](e,"pswp__"+n)},k=function(){var e=n.getNumItemsFn()===1;e!==x&&(u(o,"ui--one-slide",e),x=e)},A=function(){u(l,"share-modal--hidden",r)},h=function(){return r=!r,r?(t.removeClass(l,"pswp__share-modal--fade-in"),setTimeout(function(){r&&A()},300)):(A(),setTimeout(function(){r||t.addClass(l,"pswp__share-modal--fade-in")},30)),r||L(),!1},R=function(t){t=t||window.event;var n=t.target||t.srcElement;return e.shout("shareLinkClick",t,n),!!n.href&&(!!n.hasAttribute("download")||(window.open(n.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),r||h(),!1))},L=function(){for(var e,s,i,a,r,t="",o=0;o<n.shareButtons.length;o++)e=n.shareButtons[o],s=n.getImageURLForShare(e),a=n.getPageURLForShare(e),r=n.getTextForShare(e),i=e.url.replace("{{url}}",encodeURIComponent(a)).replace("{{image_url}}",encodeURIComponent(s)).replace("{{raw_image_url}}",s).replace("{{text}}",encodeURIComponent(r)),t+='<a href="'+i+'" target="_blank" class="pswp__share--'+e.id+'"'+(e.download?"download":"")+">"+e.label+"</a>",n.parseShareButtonOut&&(t=n.parseShareButtonOut(e,t));l.children[0].innerHTML=t,l.children[0].onclick=R},j=function(e){for(var s=0;s<n.closeElClasses.length;s++)if(t.hasClass(e,"pswp__"+n.closeElClasses[s]))return!0},O=0,v=function(){clearTimeout(w),O=0,y&&s.setIdle(!1)},M=function(e){e=e||window.event;var t=e.relatedTarget||e.toElement;(!t||t.nodeName==="HTML")&&(clearTimeout(w),w=setTimeout(function(){s.setIdle(!0)},n.timeToIdleOutside))},P=function(){n.fullscreenEl&&!t.features.isOldAndroid&&(a||(a=s.getFullscreenAPI()),a?(t.bind(document,a.eventK,s.updateFullscreen),s.updateFullscreen(),t.addClass(e.template,"pswp--supports-fs")):t.removeClass(e.template,"pswp--supports-fs"))},H=function(){n.preloaderEl&&(g(!0),i("beforeChange",function(){clearTimeout(T),T=setTimeout(function(){e.currItem&&e.currItem.loading?(!e.allowProgressiveImg()||e.currItem.img&&!e.currItem.img.naturalWidth)&&g(!1):g(!0)},n.loadingIndicatorDelay)}),i("imageLoadComplete",function(t,n){e.currItem===n&&g(!0)}))},g=function(e){z!==e&&(u(D,"preloader--active",!e),z=e)},B=function(e){var i,a,s=e.vGap;W()?(i=n.barsSize,n.captionEl&&i.bottom==="auto"?(d||(d=t.createEl("pswp__caption pswp__caption--fake"),d.appendChild(t.createEl("pswp__caption__center")),o.insertBefore(d,m),t.addClass(o,"pswp__ui--fit")),n.addCaptionHTMLFn(e,d,!0)?(a=d.clientHeight,s.bottom=parseInt(a,10)||44):s.bottom=i.top):s.bottom=i.bottom==="auto"?0:i.bottom,s.top=i.top):s.top=s.bottom=0},V=function(){n.timeToIdle&&i("mouseUsed",function(){t.bind(document,"mousemove",v),t.bind(document,"mouseout",M),b=setInterval(function(){O++,O===2&&s.setIdle(!0)},n.timeToIdle/2)})},$=function(){i("onVerticalDrag",function(e){c&&e<.95?s.hideControls():!c&&e>=.95&&s.showControls()});var e;i("onPinchClose",function(t){c&&t<.9?(s.hideControls(),e=!0):e&&!c&&t>.9&&s.showControls()}),i("zoomGestureEnded",function(){e=!1,e&&!c&&s.showControls()})},f=[{name:"caption",option:"captionEl",onInit:function(e){m=e}},{name:"share-modal",option:"shareEl",onInit:function(e){l=e},onTap:function(){h()}},{name:"button--share",option:"shareEl",onInit:function(e){E=e},onTap:function(){h()}},{name:"button--zoom",option:"zoomEl",onTap:e.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(e){C=e}},{name:"button--close",option:"closeEl",onTap:e.close},{name:"button--arrow--left",option:"arrowEl",onTap:e.prev},{name:"button--arrow--right",option:"arrowEl",onTap:e.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){a.isFullscreen()?a.exit():a.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(e){D=e}}],N=function(){var e,s,i,a,r=function(o){if(!o)return;for(var i,c=o.length,r=0;r<c;r++){e=o[r],a=e.className;for(i=0;i<f.length;i++)s=f[i],a.indexOf("pswp__"+s.name)>-1&&(n[s.option]?(t.removeClass(e,"pswp__element--disabled"),s.onInit&&s.onInit(e)):t.addClass(e,"pswp__element--disabled"))}};r(o.children),i=t.getChildByClass(o,"pswp__top-bar"),i&&r(i.children)};s.init=function(){t.extend(e.options,I,!0),n=e.options,o=t.getChildByClass(e.scrollWrap,"pswp__ui"),i=e.listen,$(),i("beforeChange",s.update),i("doubleTap",function(t){var s=e.currItem.initialZoomLevel;e.getZoomLevel()!==s?e.zoomTo(s,t,333):e.zoomTo(n.getDoubleTapZoom(!1,e.currItem),t,333)}),i("preventDragEvent",function(e,t,n){var s=e.target||e.srcElement;s&&s.getAttribute("class")&&e.type.indexOf("mouse")>-1&&(s.getAttribute("class").indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(s.tagName))&&(n.prevent=!1)}),i("bindEvents",function(){t.bind(o,"pswpTap click",S),t.bind(e.scrollWrap,"pswpTap",s.onGlobalTap),e.likelyTouchDevice||t.bind(e.scrollWrap,"mouseover",s.onMouseOver)}),i("unbindEvents",function(){r||h(),b&&clearInterval(b),t.unbind(document,"mouseout",M),t.unbind(document,"mousemove",v),t.unbind(o,"pswpTap click",S),t.unbind(e.scrollWrap,"pswpTap",s.onGlobalTap),t.unbind(e.scrollWrap,"mouseover",s.onMouseOver),a&&(t.unbind(document,a.eventK,s.updateFullscreen),a.isFullscreen()&&(n.hideAnimationDuration=0,a.exit()),a=null)}),i("destroy",function(){n.captionEl&&(d&&o.removeChild(d),t.removeClass(m,"pswp__caption--empty")),l&&(l.children[0].onclick=null),t.removeClass(o,"pswp__ui--over-close"),t.addClass(o,"pswp__ui--hidden"),s.setIdle(!1)}),n.showAnimationDuration||t.removeClass(o,"pswp__ui--hidden"),i("initialZoomIn",function(){n.showAnimationDuration&&t.removeClass(o,"pswp__ui--hidden")}),i("initialZoomOut",function(){t.addClass(o,"pswp__ui--hidden")}),i("parseVerticalMargin",B),N(),n.shareEl&&E&&l&&(r=!0),k(),V(),P(),H()},s.setIdle=function(e){y=e,u(o,"ui--idle",e)},s.update=function(){c&&e.currItem?(s.updateIndexIndicator(),n.captionEl&&(n.addCaptionHTMLFn(e.currItem,m),u(m,"caption--empty",!e.currItem.title)),_=!0):_=!1,r||h(),k()},s.updateFullscreen=function(n){n&&setTimeout(function(){e.setScrollOffset(0,t.getScrollY())},50),t[(a.isFullscreen()?"add":"remove")+"Class"](e.template,"pswp--fs")},s.updateIndexIndicator=function(){n.counterEl&&(C.innerHTML=e.getCurrentIndex()+1+n.indexIndicatorSep+n.getNumItemsFn())},s.onGlobalTap=function(o){o=o||window.event;var i=o.target||o.srcElement;if(p)return;if(o.detail&&o.detail.pointerType==="mouse"){if(j(i)){e.close();return}t.hasClass(i,"pswp__img")&&e.close()}else if(n.tapToToggleControls&&(c?s.hideControls():s.showControls()),n.tapToClose&&(t.hasClass(i,"pswp__img")||j(i))){e.close();return}},s.onMouseOver=function(e){e=e||window.event;var t=e.target||e.srcElement;u(o,"ui--over-close",j(t))},s.hideControls=function(){t.addClass(o,"pswp__ui--hidden"),c=!1},s.showControls=function(){c=!0,_||s.update(),t.removeClass(o,"pswp__ui--hidden")},s.supportsFullscreen=function(){var e=document;return!!(e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen)},s.getFullscreenAPI=function(){var t,s=document.documentElement,o="fullscreenchange";return s.requestFullscreen?t={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:o}:s.mozRequestFullScreen?t={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+o}:s.webkitRequestFullscreen?t={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+o}:s.msRequestFullscreen&&(t={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),t&&(t.enter=function(){if(F=n.closeOnScroll,n.closeOnScroll=!1,this.enterK==="webkitRequestFullscreen")e.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT);else return e.template[this.enterK]()},t.exit=function(){return n.closeOnScroll=F,document[this.exitK]()},t.isFullscreen=function(){return document[this.elementK]}),t}};return e});var _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};(function(e,t){(typeof exports=="undefined"?"undefined":_typeof(exports))==="object"&&typeof module!="undefined"?t():typeof define=="function"&&define.amd?define(t):t()})(this,function(){"use strict";function i(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){return t.reject(n)})})}var n,l=setTimeout;function d(){}function c(e,t){return function(){e.apply(t,arguments)}}function e(t){if(!(this instanceof e))throw new TypeError("Promises must be constructed via new");if(typeof t!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],a(t,this)}function r(n,o){for(;n._state===3;)n=n._value;if(n._state===0){n._deferreds.push(o);return}n._handled=!0,e._immediateFn(function(){var i,e=n._state===1?o.onFulfilled:o.onRejected;if(e===null){(n._state===1?s:t)(o.promise,n._value);return}try{i=e(n._value)}catch(e){t(o.promise,e);return}s(o.promise,i)})}function s(n,s){try{if(s===n)throw new TypeError("A promise cannot be resolved with itself.");if(s&&((typeof s=="undefined"?"undefined":_typeof(s))==="object"||typeof s=="function")){var i=s.then;if(s instanceof e){n._state=3,n._value=s,o(n);return}if(typeof i=="function"){a(c(i,s),n);return}}n._state=1,n._value=s,o(n)}catch(e){t(n,e)}}function t(e,t){e._state=2,e._value=t,o(e)}function o(t){t._state===2&&t._deferreds.length===0&&e._immediateFn(function(){t._handled||e._unhandledRejectionFn(t._value)});for(var n=0,s=t._deferreds.length;n<s;n++)r(t,t._deferreds[n]);t._deferreds=null}function u(e,t,n){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.promise=n}function a(e,n){var o=!1;try{e(function(e){if(o)return;o=!0,s(n,e)},function(e){if(o)return;o=!0,t(n,e)})}catch(e){if(o)return;o=!0,t(n,e)}}e.prototype.catch=function(e){return this.then(null,e)},e.prototype.then=function(e,t){var n=new this.constructor(d);return r(this,new u(e,t,n)),n},e.prototype.finally=i,e.all=function(t){return new e(function(e,n){if(!t||typeof t.length=="undefined")throw new TypeError("Promise.all accepts an array");var o,i,s=Array.prototype.slice.call(t);if(s.length===0)return e([]);i=s.length;function a(t,o){try{if(o&&((typeof o=="undefined"?"undefined":_typeof(o))==="object"||typeof o=="function")){var r=o.then;if(typeof r=="function"){r.call(o,function(e){a(t,e)},n);return}}s[t]=o,--i===0&&e(s)}catch(e){n(e)}}for(o=0;o<s.length;o++)a(o,s[o])})},e.resolve=function(t){return t&&(typeof t=="undefined"?"undefined":_typeof(t))==="object"&&t.constructor===e?t:new e(function(e){e(t)})},e.reject=function(t){return new e(function(e,n){n(t)})},e.race=function(t){return new e(function(e,n){for(var s=0,o=t.length;s<o;s++)t[s].then(e,n)})},e._immediateFn=typeof setImmediate=="function"&&function(e){setImmediate(e)}||function(e){l(e,0)},e._unhandledRejectionFn=function(t){typeof console!="undefined"&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},n=function(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("unable to locate global object")}(),"Promise"in n?n.Promise.prototype.finally||(n.Promise.prototype.finally=i):n.Promise=e}),function(e,t){"use strict";typeof define=="function"&&define.amd?define([],t):(typeof exports=="undefined"?"undefined":_typeof(exports))==="object"?module.exports=t():e.photoswipeSimplify=t()}(this,function(){"use strict";var t,n={target:"[data-pswp]"},s=function(){var s,n={},a=!1,t=0,o=arguments.length,i=function(t){for(var s in t)t.hasOwnProperty(s)&&(n[s]=t[s])};for(t=0;t<o;t++)s=arguments[t],i(s);return n},e=function(){};return e.prototype={initialized:!1,pswpElement:"",galleries:[],thumbnails:[],tmps:[],items:[],options:{},ImagesLoaded:!1,init:function(t){var o=this;o.options=s(n,t||{}),o.initialized||(o.append_template(),o.initialized=!0),o.initPhotoSwipe(o.options.target)},append_template:function(){var n=document.getElementsByTagName("body")[0],t=document.createElement("div");t.innerHTML='<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true"><div class="pswp__bg"></div><div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div><div class="pswp__item"></div><div class="pswp__item"></div></div><div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button><button class="pswp__button pswp__button--share" title="Share"></button><button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button><button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div> </div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button><button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div>',n.appendChild(t)},initPhotoSwipe:function(t){var s,o,i,a,r,n=this;if(n.pswpElement=document.querySelectorAll(".pswp")[0],n.galleries=document.querySelectorAll(t),n.galleries.length>0)for(s=0;s<n.galleries.length;s++){if(n.items[s]=[],n.thumbnails[s]=[],n.tmps[s]=n.galleries[s].getElementsByTagName("img"),n.tmps[s]=Array.prototype.slice.call(n.tmps[s]),n.tmps[s].length>0)for(i=0;i<n.tmps[s].length;i++)a=n.tmps[s][i].getAttribute("data-zoom-src"),/(.gif|.jpe?g|.png|.bmp)/.test(a.toLowerCase())&&n.thumbnails[s].push(n.tmps[s][i]);if(r=new Promise(function(e){n.parseItems(e,s)}),r.then(function(){n.galleryLoaded()}),n.thumbnails[s].length>0)for(o=0;o<n.thumbnails[s].length;o++)n.thumbnails[s][o].setAttribute("data-pswp-index",s),n.thumbnails[s][o].classList.add("pswp--item"),n.attachEvent(n.thumbnails[s][o],s,o)}},galleryLoaded:function(){var t,n=this;if(n.galleries.length>0)for(t=0;t<n.galleries.length;t++)n.galleries[t].classList.add("pswp--loaded")},attachEvent:function(t,n,s){var o=this;t.addEventListener("click",function(e){e.preventDefault(),document.body.classList.add("pswp--launched");var t=document.querySelector(".pswp--active");return t&&t.classList.remove("pswp--active"),o.galleries[n].classList.add("pswp--active"),o.galleries[n].setAttribute("data-pswp-index",s),o.galleries[n].classList.contains("pswp--loaded")&&s>=0&&o.open(n,s),!1})},getImageSizes:function(t,n,s,o,i,a){var r=this;new Promise(function(e){if(t.getAttribute("width")){var l,d=t.getAttribute("width"),u=t.getAttribute("height");r.items[s][o]={src:n,w:parseInt(d,10),h:parseInt(u,10),title:i,author:a},e()}else l=new Image,l.src=n,l.onload=function(){r.items[s][o]={src:n,w:l.naturalWidth,h:l.naturalHeight,title:i,author:a},e()}})},open:function(t,n){var o,s=this,i=s.galleries[t];s.options.galleryUID=t,s.options.index=n,s.options.getThumbBoundsFn=function(e){if(t=document.querySelector(".pswp--active"),t){var t,s=t.querySelectorAll(".pswp--item")[e],o=window.pageYOffset||document.documentElement.scrollTop,n=s.getBoundingClientRect();return{x:n.left,y:n.top+o,w:n.width}}},s.options.addCaptionHTMLFn=function(e,t){return e.title?(t.children[0].innerHTML=e.title,e.author&&(t.children[0].innerHTML+="<br><small>"+e.author+"</small>"),!0):(t.children[0].innerText="",!1)},document.body.classList.remove("pswp--launched"),o=new PhotoSwipe(s.pswpElement,PhotoSwipeUI_Default,s.items[t],s.options),o.init()},parseItems:function(t,n){var s,i,r,c,l,o=this,a=[];if(o.thumbnails[n].length>0)for(s=0;s<o.thumbnails[n].length;s++)r=o.thumbnails[n][s],i=o.thumbnails[n][s].getAttribute("data-zoom-src"),c=o.thumbnails[n][s].getAttribute("data-caption"),l=o.thumbnails[n][s].getAttribute("data-author"),console.log(i),a.push(o.getImageSizes(r,i,n,s,c,l)),Promise.all(a).then(function(){t()})}},t=new e,t});function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function _extends(){return(_extends=Object.assign||function(e){for(var t,s,n=1;n<arguments.length;n++){t=arguments[n];for(s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e}).apply(this,arguments)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,t){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.LazyLoad=t()}(this,function(){"use strict";var n="undefined"!=typeof window,y=n&&!("onscroll"in window)||"undefined"!=typeof navigator&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),E=n&&"IntersectionObserver"in window,_=n&&"classList"in document.createElement("p"),S={elements_selector:"img",container:y||n?document:null,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",data_poster:"poster",class_loading:"loading",class_loaded:"loaded",class_error:"error",load_delay:0,auto_unobserve:!0,callback_enter:null,callback_exit:null,callback_reveal:null,callback_loaded:null,callback_error:null,callback_finish:null,use_native:!1},v=function(e,t){var n,s=new e(t);try{n=new CustomEvent("LazyLoad::Initialized",{detail:{instance:s}})}catch{(n=document.createEvent("CustomEvent")).initCustomEvent("LazyLoad::Initialized",!1,!1,{instance:s})}window.dispatchEvent(n)},e=function(e,t){return e.getAttribute("data-"+t)},r=function(e,t,n){var s="data-"+t;null!==n?e.setAttribute(s,n):e.removeAttribute(s)},f=function(t){return"true"===e(t,"was-processed")},u=function(e,t){return r(e,"ll-timeout",t)},x=function(t){return e(t,"ll-timeout")},s=function(e,t,n,s){e&&(void 0===s?void 0===n?e(t):e(t,n):e(t,n,s))},h=function(e,t){e._loadingCount+=t,0===e._elements.length&&0===e._loadingCount&&s(e._settings.callback_finish,e)},m=function(e){for(var t,n=[],s=0;t=e.children[s];s+=1)"SOURCE"===t.tagName&&n.push(t);return n},t=function(e,t,n){n&&e.setAttribute(t,n)},p=function(n,s){t(n,"sizes",e(n,s.data_sizes)),t(n,"srcset",e(n,s.data_srcset)),t(n,"src",e(n,s.data_src))},T={IMG:function(e,t){var n=e.parentNode;n&&"PICTURE"===n.tagName&&m(n).forEach(function(e){p(e,t)}),p(e,t)},IFRAME:function(n,s){t(n,"src",e(n,s.data_src))},VIDEO:function(n,s){m(n).forEach(function(n){t(n,"src",e(n,s.data_src))}),t(n,"poster",e(n,s.data_poster)),t(n,"src",e(n,s.data_src)),n.load()}},D=function(t,n){var s,o,i=n._settings,r=t.tagName,a=T[r];if(a)return a(t,i),h(n,1),void(n._elements=(s=n._elements,o=t,s.filter(function(e){return e!==o})));!function(t,n){var s=e(t,n.data_src),o=e(t,n.data_bg);s&&(t.style.backgroundImage='url("'.concat(s,'")')),o&&(t.style.backgroundImage=o)}(t,i)},b=function(e,t){_?e.classList.add(t):e.className+=(e.className?" ":"")+t},j=function(e,t){_?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\s+)"+t+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")},a=function(e,t,n){e.addEventListener(t,n)},i=function(e,t,n){e.removeEventListener(t,n)},w=function(e,t,n){i(e,"load",t),i(e,"loadeddata",t),i(e,"error",n)},O=function(e,t,n){var o=n._settings,a=t?o.class_loaded:o.class_error,r=t?o.callback_loaded:o.callback_error,i=e.target;j(i,o.class_loading),b(i,a),s(r,i,n),h(n,-1)},k=function(e,t){var n=function n(o){O(o,!0,t),w(e,n,s)},s=function s(o){O(o,!1,t),w(e,n,s)};!function(e,t,n){a(e,"load",t),a(e,"loadeddata",t),a(e,"error",n)}(e,n,s)},C=["IMG","IFRAME","VIDEO"],c=function(e,t){var n=t._observer;o(e,t),n&&t._settings.auto_unobserve&&n.unobserve(e)},d=function(e){var t=x(e);t&&(clearTimeout(t),u(e,null))},A=function(e,t){var s=t._settings.load_delay,n=x(e);n||(n=setTimeout(function(){c(e,t),d(e)},s),u(e,n))},o=function(e,t,n){var o=t._settings;!n&&f(e)||(C.indexOf(e.tagName)>-1&&(k(e,t),b(e,o.class_loading)),D(e,t),function(e){r(e,"was-processed","true")}(e),s(o.callback_reveal,e,t),s(o.callback_set,e,t))},M=function(e){return!!E&&(e._observer=new IntersectionObserver(function(t){t.forEach(function(t){return function(e){return e.isIntersecting||e.intersectionRatio>0}(t)?function(e,t,n){var o=n._settings;s(o.callback_enter,e,t,n),o.load_delay?A(e,n):c(e,n)}(t.target,t,e):function(e,t,n){var o=n._settings;s(o.callback_exit,e,t,n),o.load_delay&&d(e)}(t.target,t,e)})},{root:(t=e._settings).container===document?null:t.container,rootMargin:t.thresholds||t.threshold+"px"}),!0);var t},F=["IMG","IFRAME"],g=function(e,t){return function(e){return e.filter(function(e){return!f(e)})}((n=e||function(e){return e.container.querySelectorAll(e.elements_selector)}(t),Array.prototype.slice.call(n)));var n},z=function(e){var t=e._settings;_toConsumableArray(t.container.querySelectorAll("."+t.class_error)).forEach(function(e){j(e,t.class_error),function(e){r(e,"was-processed",null)}(e)}),e.update()},l=function(e,t){var s;this._settings=function(e){return _extends({},S,e)}(e),this._loadingCount=0,M(this),this.update(t),s=this,n&&window.addEventListener("online",function(){z(s)})};return l.prototype={update:function(e){var n,s=this,t=this._settings;this._elements=g(e,t),!y&&this._observer?(function(e){return e.use_native&&"loading"in HTMLImageElement.prototype}(t)&&((n=this)._elements.forEach(function(e){-1!==F.indexOf(e.tagName)&&(e.setAttribute("loading","lazy"),o(e,n))}),this._elements=g(e,t)),this._elements.forEach(function(e){s._observer.observe(e)})):this.loadAll()},destroy:function(){var e=this;this._observer&&(this._elements.forEach(function(t){e._observer.unobserve(t)}),this._observer=null),this._elements=null,this._settings=null},load:function(e,t){o(e,this,t)},loadAll:function(){var e=this;this._elements.forEach(function(t){c(t,e)})}},n&&function(e,t){if(t)if(t.length)for(var n,s=0;n=t[s];s+=1)v(e,n);else v(e,t)}(l,window.lazyLoadOptions),l}),document.addEventListener("DOMContentLoaded",function(){new LazyLoad({elements_selector:".lazyload",skip_invisible:!1}),photoswipeSimplify.init({history:!1,bgOpacity:1,zoomEl:!1,shareEl:!1,counterEl:!1,fullscreenEl:!1,closeEl:!1,captionEl:!1,arrowEl:!1,barsSize:{top:44,bottom:44,left:44,right:44}}),params=new URLSearchParams(window.location.search),params.has("session_id")&&fetch(`/api/success?session_id=`+params.get("session_id"),{method:"GET",headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>{document.querySelector(".thanks").innerText=" Merci pour cet achat, "+e.shipping.name,document.querySelector("#thanksdiv").classList.toggle("hidden")}),form=document.querySelector("#stripe-form"),form&&form.addEventListener("submit",handleFormSubmission)});function handleFormSubmission(e){e.preventDefault(),form=new FormData(e.target),data={price_id:form.get("price_id"),hostname:window.location.hostname,slug:window.location.pathname},fetch(`/api/checkout`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(data)}).then(e=>e.json()).then(e=>{stripe=Stripe(e.publishableKey),stripe.redirectToCheckout({sessionId:e.sessionId})}).then(e=>{e.error()&&console.error(e.error())})}